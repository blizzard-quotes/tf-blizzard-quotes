{
  "version": 4,
  "terraform_version": "0.13.5",
  "serial": 1219,
  "lineage": "40038788-470a-33c6-d662-fc88256f855c",
  "outputs": {},
  "resources": [
    {
      "mode": "data",
      "type": "aws_route53_zone",
      "name": "blizzard_quotes",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "caller_reference": "RISWorkflow-RD:abe34b1e-be1f-4ff5-8dbf-6912e57eff9a",
            "comment": "HostedZone created by Route53 Registrar",
            "id": "Z2N8RQ0B2P27GZ",
            "linked_service_description": null,
            "linked_service_principal": null,
            "name": "blizzardquotes.com",
            "name_servers": [
              "ns-1390.awsdns-45.org",
              "ns-693.awsdns-22.net",
              "ns-467.awsdns-58.com",
              "ns-1997.awsdns-57.co.uk"
            ],
            "private_zone": false,
            "resource_record_set_count": 39,
            "tags": {},
            "vpc_id": null,
            "zone_id": "Z2N8RQ0B2P27GZ"
          }
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_acm_certificate",
      "name": "blizzard_quotes",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:acm:us-east-1:597331215585:certificate/5fbc7c65-62af-4d38-82aa-be60256fbd3a",
            "certificate_authority_arn": "",
            "certificate_body": null,
            "certificate_chain": null,
            "domain_name": "blizzardquotes.com",
            "domain_validation_options": [
              {
                "domain_name": "blizzardquotes.com",
                "resource_record_name": "_315fd385705d44c6c557f66d277a6199.blizzardquotes.com.",
                "resource_record_type": "CNAME",
                "resource_record_value": "_c406da7b931402a3b652bad49d43bc66.mzlfeqexyx.acm-validations.aws."
              },
              {
                "domain_name": "www.blizzardquotes.com",
                "resource_record_name": "_4f1b423742a523f169444e23305f35e7.www.blizzardquotes.com.",
                "resource_record_type": "CNAME",
                "resource_record_value": "_9914378f330627999e2cf1405541636a.mzlfeqexyx.acm-validations.aws."
              }
            ],
            "id": "arn:aws:acm:us-east-1:597331215585:certificate/5fbc7c65-62af-4d38-82aa-be60256fbd3a",
            "options": [
              {
                "certificate_transparency_logging_preference": "ENABLED"
              }
            ],
            "private_key": null,
            "status": "ISSUED",
            "subject_alternative_names": [
              "www.blizzardquotes.com"
            ],
            "tags": {},
            "validation_emails": [],
            "validation_method": "DNS"
          },
          "private": "bnVsbA==",
          "create_before_destroy": true
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_acm_certificate",
      "name": "sc2_quotes",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:acm:us-east-1:597331215585:certificate/95c759b6-d0fe-4389-95ee-6998f8409860",
            "certificate_authority_arn": "",
            "certificate_body": null,
            "certificate_chain": null,
            "domain_name": "sc2.blizzardquotes.com",
            "domain_validation_options": [
              {
                "domain_name": "*.api.sc2.blizzardquotes.com",
                "resource_record_name": "_c215d098c0fb1e2f9561c0cf3a3bd32c.api.sc2.blizzardquotes.com.",
                "resource_record_type": "CNAME",
                "resource_record_value": "_74165899ff9c0c220f28d092a670a30f.olprtlswtu.acm-validations.aws."
              },
              {
                "domain_name": "*.sc2.blizzardquotes.com",
                "resource_record_name": "_4ec01e3c6aaa06661119902291e56f7a.sc2.blizzardquotes.com.",
                "resource_record_type": "CNAME",
                "resource_record_value": "_ae3a8700a0561010aafd329951e9542b.olprtlswtu.acm-validations.aws."
              },
              {
                "domain_name": "*.swagger.sc2.blizzardquotes.com",
                "resource_record_name": "_6fa3ee744ea4a442a990f7e51b0baa65.swagger.sc2.blizzardquotes.com.",
                "resource_record_type": "CNAME",
                "resource_record_value": "_d2cfe783c79ceb855ddd076e4a00684d.olprtlswtu.acm-validations.aws."
              },
              {
                "domain_name": "sc2.blizzardquotes.com",
                "resource_record_name": "_4ec01e3c6aaa06661119902291e56f7a.sc2.blizzardquotes.com.",
                "resource_record_type": "CNAME",
                "resource_record_value": "_ae3a8700a0561010aafd329951e9542b.olprtlswtu.acm-validations.aws."
              }
            ],
            "id": "arn:aws:acm:us-east-1:597331215585:certificate/95c759b6-d0fe-4389-95ee-6998f8409860",
            "options": [
              {
                "certificate_transparency_logging_preference": "ENABLED"
              }
            ],
            "private_key": null,
            "status": "ISSUED",
            "subject_alternative_names": [
              "*.api.sc2.blizzardquotes.com",
              "*.sc2.blizzardquotes.com",
              "*.swagger.sc2.blizzardquotes.com"
            ],
            "tags": {},
            "validation_emails": [],
            "validation_method": "DNS"
          },
          "private": "bnVsbA==",
          "create_before_destroy": true
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_acm_certificate",
      "name": "sc_quotes",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:acm:us-east-1:597331215585:certificate/8ac02510-da05-4d49-a83e-1783242a1016",
            "certificate_authority_arn": "",
            "certificate_body": null,
            "certificate_chain": null,
            "domain_name": "sc.blizzardquotes.com",
            "domain_validation_options": [
              {
                "domain_name": "*.api.sc.blizzardquotes.com",
                "resource_record_name": "_27ce80f0287788b803e9a74bcb82e8aa.api.sc.blizzardquotes.com.",
                "resource_record_type": "CNAME",
                "resource_record_value": "_fb1fa9f9d4216b74d3be53d1ffe3c2b8.mzlfeqexyx.acm-validations.aws."
              },
              {
                "domain_name": "*.sc.blizzardquotes.com",
                "resource_record_name": "_977cb94ce9d7abcb93963ca8a75f9cb7.sc.blizzardquotes.com.",
                "resource_record_type": "CNAME",
                "resource_record_value": "_c6121e28c981ff6d5565da8e0f81b99c.mzlfeqexyx.acm-validations.aws."
              },
              {
                "domain_name": "*.swagger.sc.blizzardquotes.com",
                "resource_record_name": "_2f3ecc4415aa683ebc66ac7673ac0be4.swagger.sc.blizzardquotes.com.",
                "resource_record_type": "CNAME",
                "resource_record_value": "_64c30b4d6159350ac4c8b127049f8228.mzlfeqexyx.acm-validations.aws."
              },
              {
                "domain_name": "sc.blizzardquotes.com",
                "resource_record_name": "_977cb94ce9d7abcb93963ca8a75f9cb7.sc.blizzardquotes.com.",
                "resource_record_type": "CNAME",
                "resource_record_value": "_c6121e28c981ff6d5565da8e0f81b99c.mzlfeqexyx.acm-validations.aws."
              }
            ],
            "id": "arn:aws:acm:us-east-1:597331215585:certificate/8ac02510-da05-4d49-a83e-1783242a1016",
            "options": [
              {
                "certificate_transparency_logging_preference": "ENABLED"
              }
            ],
            "private_key": null,
            "status": "ISSUED",
            "subject_alternative_names": [
              "*.api.sc.blizzardquotes.com",
              "*.sc.blizzardquotes.com",
              "*.swagger.sc.blizzardquotes.com"
            ],
            "tags": {},
            "validation_emails": [],
            "validation_method": "DNS"
          },
          "private": "bnVsbA==",
          "create_before_destroy": true
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_acm_certificate",
      "name": "wc3_quotes",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:acm:us-east-1:597331215585:certificate/97e01166-ce9a-4b1a-9e32-04c5a4fbab9a",
            "certificate_authority_arn": "",
            "certificate_body": null,
            "certificate_chain": null,
            "domain_name": "wc3.blizzardquotes.com",
            "domain_validation_options": [
              {
                "domain_name": "*.api.wc3.blizzardquotes.com",
                "resource_record_name": "_a1fb593fd2502ebdb6ff3059c3bbb946.api.wc3.blizzardquotes.com.",
                "resource_record_type": "CNAME",
                "resource_record_value": "_6e1d5ac9add86d04f92bb8af3bb2e166.olprtlswtu.acm-validations.aws."
              },
              {
                "domain_name": "*.swagger.wc3.blizzardquotes.com",
                "resource_record_name": "_7a308506ce4c4e55248bb4596816fdbc.swagger.wc3.blizzardquotes.com.",
                "resource_record_type": "CNAME",
                "resource_record_value": "_ccf48c91d5e606cbc8e6c6ca620a1b9f.olprtlswtu.acm-validations.aws."
              },
              {
                "domain_name": "*.wc3.blizzardquotes.com",
                "resource_record_name": "_86ea9f43c57835f0d0a4994964e02673.wc3.blizzardquotes.com.",
                "resource_record_type": "CNAME",
                "resource_record_value": "_25b007db16b6a6298ade6ba818ed3106.olprtlswtu.acm-validations.aws."
              },
              {
                "domain_name": "wc3.blizzardquotes.com",
                "resource_record_name": "_86ea9f43c57835f0d0a4994964e02673.wc3.blizzardquotes.com.",
                "resource_record_type": "CNAME",
                "resource_record_value": "_25b007db16b6a6298ade6ba818ed3106.olprtlswtu.acm-validations.aws."
              }
            ],
            "id": "arn:aws:acm:us-east-1:597331215585:certificate/97e01166-ce9a-4b1a-9e32-04c5a4fbab9a",
            "options": [
              {
                "certificate_transparency_logging_preference": "ENABLED"
              }
            ],
            "private_key": null,
            "status": "ISSUED",
            "subject_alternative_names": [
              "*.api.wc3.blizzardquotes.com",
              "*.swagger.wc3.blizzardquotes.com",
              "*.wc3.blizzardquotes.com"
            ],
            "tags": {},
            "validation_emails": [],
            "validation_method": "DNS"
          },
          "private": "bnVsbA==",
          "create_before_destroy": true
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_cloudwatch_metric_alarm",
      "name": "billing_alarm_high",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "actions_enabled": true,
            "alarm_actions": [
              "arn:aws:sns:us-east-1:597331215585:cost-notification"
            ],
            "alarm_description": "Alert to signal that billing is even higher.",
            "alarm_name": "BillingAlarmHigh",
            "arn": "arn:aws:cloudwatch:us-east-1:597331215585:alarm:BillingAlarmHigh",
            "comparison_operator": "GreaterThanThreshold",
            "datapoints_to_alarm": 0,
            "dimensions": {
              "Currency": "USD"
            },
            "evaluate_low_sample_count_percentiles": "",
            "evaluation_periods": 1,
            "extended_statistic": "",
            "id": "BillingAlarmHigh",
            "insufficient_data_actions": [],
            "metric_name": "EstimatedCharges",
            "metric_query": [],
            "namespace": "AWS/Billing",
            "ok_actions": [],
            "period": 300,
            "statistic": "Maximum",
            "tags": {},
            "threshold": 20,
            "threshold_metric_id": "",
            "treat_missing_data": "missing",
            "unit": ""
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "aws_sns_topic.cost_notification"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_cloudwatch_metric_alarm",
      "name": "billing_alarm_low",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "actions_enabled": true,
            "alarm_actions": [
              "arn:aws:sns:us-east-1:597331215585:cost-notification"
            ],
            "alarm_description": "Alarm to signal that billing is getting high.",
            "alarm_name": "BillingAlarmLow",
            "arn": "arn:aws:cloudwatch:us-east-1:597331215585:alarm:BillingAlarmLow",
            "comparison_operator": "GreaterThanThreshold",
            "datapoints_to_alarm": 0,
            "dimensions": {
              "Currency": "USD"
            },
            "evaluate_low_sample_count_percentiles": "",
            "evaluation_periods": 1,
            "extended_statistic": "",
            "id": "BillingAlarmLow",
            "insufficient_data_actions": [],
            "metric_name": "EstimatedCharges",
            "metric_query": [],
            "namespace": "AWS/Billing",
            "ok_actions": [],
            "period": 300,
            "statistic": "Maximum",
            "tags": {},
            "threshold": 2,
            "threshold_metric_id": "",
            "treat_missing_data": "missing",
            "unit": ""
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "aws_sns_topic.cost_notification"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_group",
      "name": "administrators",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::597331215585:group/Administrators",
            "id": "Administrators",
            "name": "Administrators",
            "path": "/",
            "unique_id": "AGPAYWE5XATQTKFFH4W76"
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjAifQ=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_group_policy_attachment",
      "name": "administrator_access",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "group": "Administrators",
            "id": "Administrators-20191219040733415700000001",
            "policy_arn": "arn:aws:iam::aws:policy/AdministratorAccess"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_group.administrators"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_user",
      "name": "william_panebianco",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::597331215585:user/williampanebianco",
            "force_destroy": null,
            "id": "williampanebianco",
            "name": "williampanebianco",
            "path": "/",
            "permissions_boundary": null,
            "tags": {},
            "unique_id": "AIDAYWE5XATQ6IIZGWZLD"
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjAifQ=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_user_group_membership",
      "name": "william_panebianco_groups",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "groups": [
              "Administrators"
            ],
            "id": "terraform-20191219040850407100000001",
            "user": "williampanebianco"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_group.administrators",
            "aws_iam_user.william_panebianco"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_s3_bucket",
      "name": "blizzard_quotes_logs",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "acceleration_status": "",
            "acl": "log-delivery-write",
            "arn": "arn:aws:s3:::blizzard-quotes-logs",
            "bucket": "blizzard-quotes-logs",
            "bucket_domain_name": "blizzard-quotes-logs.s3.amazonaws.com",
            "bucket_prefix": null,
            "bucket_regional_domain_name": "blizzard-quotes-logs.s3.amazonaws.com",
            "cors_rule": [],
            "force_destroy": false,
            "grant": [],
            "hosted_zone_id": "Z3AQBSTGFYJSTF",
            "id": "blizzard-quotes-logs",
            "lifecycle_rule": [
              {
                "abort_incomplete_multipart_upload_days": 0,
                "enabled": true,
                "expiration": [
                  {
                    "date": "",
                    "days": 90,
                    "expired_object_delete_marker": false
                  }
                ],
                "id": "logs-lifecycle",
                "noncurrent_version_expiration": [],
                "noncurrent_version_transition": [],
                "prefix": "",
                "tags": {},
                "transition": [
                  {
                    "date": "",
                    "days": 30,
                    "storage_class": "STANDARD_IA"
                  }
                ]
              }
            ],
            "logging": [
              {
                "target_bucket": "blizzard-quotes-logs",
                "target_prefix": "s3-access-logs-blizzard-quotes-logs/"
              }
            ],
            "object_lock_configuration": [],
            "policy": "{\"Statement\":[{\"Action\":\"*\",\"Condition\":{\"Bool\":{\"aws:SecureTransport\":\"false\"}},\"Effect\":\"Deny\",\"Principal\":{\"AWS\":\"*\"},\"Resource\":\"arn:aws:s3:::blizzard-quotes-logs/*\",\"Sid\":\"SecureTransport\"}],\"Version\":\"2012-10-17\"}",
            "region": "us-east-1",
            "replication_configuration": [],
            "request_payer": "BucketOwner",
            "server_side_encryption_configuration": [
              {
                "rule": [
                  {
                    "apply_server_side_encryption_by_default": [
                      {
                        "kms_master_key_id": "",
                        "sse_algorithm": "AES256"
                      }
                    ]
                  }
                ]
              }
            ],
            "tags": {
              "Name": "blizzard-quotes-logs",
              "Purpose": "To house logs inside the blizzard-quotes environment.",
              "Repo": "None"
            },
            "versioning": [
              {
                "enabled": false,
                "mfa_delete": false
              }
            ],
            "website": [],
            "website_domain": null,
            "website_endpoint": null
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.secure_transport_policy_logs.data.aws_iam_policy_document.s3_secure_transport_policy"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_sns_topic",
      "name": "cost_notification",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "application_failure_feedback_role_arn": "",
            "application_success_feedback_role_arn": "",
            "application_success_feedback_sample_rate": 0,
            "arn": "arn:aws:sns:us-east-1:597331215585:cost-notification",
            "delivery_policy": "",
            "display_name": "",
            "http_failure_feedback_role_arn": "",
            "http_success_feedback_role_arn": "",
            "http_success_feedback_sample_rate": 0,
            "id": "arn:aws:sns:us-east-1:597331215585:cost-notification",
            "kms_master_key_id": "",
            "lambda_failure_feedback_role_arn": "",
            "lambda_success_feedback_role_arn": "",
            "lambda_success_feedback_sample_rate": 0,
            "name": "cost-notification",
            "name_prefix": null,
            "policy": "{\"Version\":\"2008-10-17\",\"Id\":\"__default_policy_ID\",\"Statement\":[{\"Sid\":\"__default_statement_ID\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"*\"},\"Action\":[\"SNS:GetTopicAttributes\",\"SNS:SetTopicAttributes\",\"SNS:AddPermission\",\"SNS:RemovePermission\",\"SNS:DeleteTopic\",\"SNS:Subscribe\",\"SNS:ListSubscriptionsByTopic\",\"SNS:Publish\",\"SNS:Receive\"],\"Resource\":\"arn:aws:sns:us-east-1:597331215585:cost-notification\",\"Condition\":{\"StringEquals\":{\"AWS:SourceOwner\":\"597331215585\"}}}]}",
            "sqs_failure_feedback_role_arn": "",
            "sqs_success_feedback_role_arn": "",
            "sqs_success_feedback_sample_rate": 0,
            "tags": {}
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.blizzard_quotes_acm_dns_validation",
      "mode": "managed",
      "type": "aws_acm_certificate_validation",
      "name": "default",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "certificate_arn": "arn:aws:acm:us-east-1:597331215585:certificate/5fbc7c65-62af-4d38-82aa-be60256fbd3a",
            "id": "2020-12-18 01:46:32 +0000 UTC",
            "timeouts": null,
            "validation_record_fqdns": [
              "_315fd385705d44c6c557f66d277a6199.blizzardquotes.com",
              "_4f1b423742a523f169444e23305f35e7.www.blizzardquotes.com"
            ]
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoyNzAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "aws_acm_certificate.blizzard_quotes",
            "data.aws_route53_zone.blizzard_quotes",
            "module.blizzard_quotes_acm_dns_validation.aws_route53_record.dns_validation"
          ]
        }
      ]
    },
    {
      "module": "module.blizzard_quotes_acm_dns_validation",
      "mode": "managed",
      "type": "aws_route53_record",
      "name": "dns_validation",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": "blizzardquotes.com",
          "schema_version": 2,
          "attributes": {
            "alias": [],
            "allow_overwrite": true,
            "failover_routing_policy": [],
            "fqdn": "_315fd385705d44c6c557f66d277a6199.blizzardquotes.com",
            "geolocation_routing_policy": [],
            "health_check_id": "",
            "id": "Z2N8RQ0B2P27GZ__315fd385705d44c6c557f66d277a6199.blizzardquotes.com._CNAME",
            "latency_routing_policy": [],
            "multivalue_answer_routing_policy": null,
            "name": "_315fd385705d44c6c557f66d277a6199.blizzardquotes.com",
            "records": [
              "_c406da7b931402a3b652bad49d43bc66.mzlfeqexyx.acm-validations.aws."
            ],
            "set_identifier": "",
            "ttl": 60,
            "type": "CNAME",
            "weighted_routing_policy": [],
            "zone_id": "Z2N8RQ0B2P27GZ"
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "aws_acm_certificate.blizzard_quotes",
            "data.aws_route53_zone.blizzard_quotes"
          ]
        },
        {
          "index_key": "www.blizzardquotes.com",
          "schema_version": 2,
          "attributes": {
            "alias": [],
            "allow_overwrite": true,
            "failover_routing_policy": [],
            "fqdn": "_4f1b423742a523f169444e23305f35e7.www.blizzardquotes.com",
            "geolocation_routing_policy": [],
            "health_check_id": "",
            "id": "Z2N8RQ0B2P27GZ__4f1b423742a523f169444e23305f35e7.www.blizzardquotes.com._CNAME",
            "latency_routing_policy": [],
            "multivalue_answer_routing_policy": null,
            "name": "_4f1b423742a523f169444e23305f35e7.www.blizzardquotes.com",
            "records": [
              "_9914378f330627999e2cf1405541636a.mzlfeqexyx.acm-validations.aws."
            ],
            "set_identifier": "",
            "ttl": 60,
            "type": "CNAME",
            "weighted_routing_policy": [],
            "zone_id": "Z2N8RQ0B2P27GZ"
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "aws_acm_certificate.blizzard_quotes",
            "data.aws_route53_zone.blizzard_quotes"
          ]
        }
      ]
    },
    {
      "module": "module.blizzard_quotes_ui",
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "web",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "3336952790",
            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"SecureTransport\",\n      \"Effect\": \"Deny\",\n      \"Action\": \"*\",\n      \"Resource\": \"arn:aws:s3:::blizzard-quotes-ui/*\",\n      \"Principal\": {\n        \"AWS\": \"*\"\n      },\n      \"Condition\": {\n        \"Bool\": {\n          \"aws:SecureTransport\": [\n            \"false\"\n          ]\n        }\n      }\n    },\n    {\n      \"Sid\": \"OriginAccessIdentityGet\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"s3:GetObject\",\n      \"Resource\": \"arn:aws:s3:::blizzard-quotes-ui/*\",\n      \"Principal\": {\n        \"AWS\": \"arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity E1U7H0IP0ZZIS7\"\n      }\n    },\n    {\n      \"Sid\": \"OriginAccessIdentityList\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"s3:ListBucket\",\n      \"Resource\": \"arn:aws:s3:::blizzard-quotes-ui\",\n      \"Principal\": {\n        \"AWS\": \"arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity E1U7H0IP0ZZIS7\"\n      }\n    }\n  ]\n}",
            "override_json": null,
            "policy_id": null,
            "source_json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"SecureTransport\",\n      \"Effect\": \"Deny\",\n      \"Action\": \"*\",\n      \"Resource\": \"arn:aws:s3:::blizzard-quotes-ui/*\",\n      \"Principal\": {\n        \"AWS\": \"*\"\n      },\n      \"Condition\": {\n        \"Bool\": {\n          \"aws:SecureTransport\": \"false\"\n        }\n      }\n    }\n  ]\n}",
            "statement": [
              {
                "actions": [
                  "s3:GetObject"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [
                  {
                    "identifiers": [
                      "arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity E1U7H0IP0ZZIS7"
                    ],
                    "type": "AWS"
                  }
                ],
                "resources": [
                  "arn:aws:s3:::blizzard-quotes-ui/*"
                ],
                "sid": "OriginAccessIdentityGet"
              },
              {
                "actions": [
                  "s3:ListBucket"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [
                  {
                    "identifiers": [
                      "arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity E1U7H0IP0ZZIS7"
                    ],
                    "type": "AWS"
                  }
                ],
                "resources": [
                  "arn:aws:s3:::blizzard-quotes-ui"
                ],
                "sid": "OriginAccessIdentityList"
              }
            ],
            "version": "2012-10-17"
          }
        }
      ]
    },
    {
      "module": "module.blizzard_quotes_ui",
      "mode": "data",
      "type": "aws_route53_zone",
      "name": "quotes",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "caller_reference": "RISWorkflow-RD:abe34b1e-be1f-4ff5-8dbf-6912e57eff9a",
            "comment": "HostedZone created by Route53 Registrar",
            "id": "Z2N8RQ0B2P27GZ",
            "linked_service_description": null,
            "linked_service_principal": null,
            "name": "blizzardquotes.com",
            "name_servers": [
              "ns-1390.awsdns-45.org",
              "ns-693.awsdns-22.net",
              "ns-467.awsdns-58.com",
              "ns-1997.awsdns-57.co.uk"
            ],
            "private_zone": false,
            "resource_record_set_count": 39,
            "tags": {},
            "vpc_id": null,
            "zone_id": "Z2N8RQ0B2P27GZ"
          }
        }
      ]
    },
    {
      "module": "module.blizzard_quotes_ui",
      "mode": "managed",
      "type": "aws_cloudfront_distribution",
      "name": "web",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "aliases": [
              "blizzardquotes.com",
              "www.blizzardquotes.com"
            ],
            "arn": "arn:aws:cloudfront::597331215585:distribution/E1I677YSBSBNUF",
            "caller_reference": "terraform-20191227000125330900000002",
            "comment": "CloudFront distribution for hosting blizzardquotes.com",
            "custom_error_response": [
              {
                "error_caching_min_ttl": 5,
                "error_code": 404,
                "response_code": 200,
                "response_page_path": "/index.html"
              }
            ],
            "default_cache_behavior": [
              {
                "allowed_methods": [
                  "GET",
                  "HEAD",
                  "OPTIONS"
                ],
                "cached_methods": [
                  "GET",
                  "HEAD"
                ],
                "compress": false,
                "default_ttl": 3600,
                "field_level_encryption_id": "",
                "forwarded_values": [
                  {
                    "cookies": [
                      {
                        "forward": "none",
                        "whitelisted_names": []
                      }
                    ],
                    "headers": [],
                    "query_string": false,
                    "query_string_cache_keys": []
                  }
                ],
                "lambda_function_association": [],
                "max_ttl": 86400,
                "min_ttl": 0,
                "smooth_streaming": false,
                "target_origin_id": "blizzard-quotes-ui",
                "trusted_signers": [],
                "viewer_protocol_policy": "redirect-to-https"
              }
            ],
            "default_root_object": "index.html",
            "domain_name": "d3w48nyf4rgy7j.cloudfront.net",
            "enabled": true,
            "etag": "E154T47BI1K7PF",
            "hosted_zone_id": "Z2FDTNDATAQYW2",
            "http_version": "http2",
            "id": "E1I677YSBSBNUF",
            "in_progress_validation_batches": 0,
            "is_ipv6_enabled": true,
            "last_modified_time": "2020-12-17 03:37:36.754 +0000 UTC",
            "logging_config": [
              {
                "bucket": "blizzard-quotes-logs.s3.amazonaws.com",
                "include_cookies": false,
                "prefix": "cloud-front-blizzardquotes-com-web/"
              }
            ],
            "ordered_cache_behavior": [],
            "origin": [
              {
                "custom_header": [],
                "custom_origin_config": [],
                "domain_name": "blizzard-quotes-ui.s3.amazonaws.com",
                "origin_id": "blizzard-quotes-ui",
                "origin_path": "",
                "s3_origin_config": [
                  {
                    "origin_access_identity": "origin-access-identity/cloudfront/E1U7H0IP0ZZIS7"
                  }
                ]
              }
            ],
            "origin_group": [],
            "price_class": "PriceClass_100",
            "restrictions": [
              {
                "geo_restriction": [
                  {
                    "locations": [],
                    "restriction_type": "none"
                  }
                ]
              }
            ],
            "retain_on_delete": false,
            "status": "Deployed",
            "tags": {
              "Name": "blizzardquotes.com",
              "Purpose": "CloudFront distribution for hosting blizzardquotes.com"
            },
            "trusted_signers": [
              {
                "enabled": false,
                "items": []
              }
            ],
            "viewer_certificate": [
              {
                "acm_certificate_arn": "arn:aws:acm:us-east-1:597331215585:certificate/5fbc7c65-62af-4d38-82aa-be60256fbd3a",
                "cloudfront_default_certificate": false,
                "iam_certificate_id": "",
                "minimum_protocol_version": "TLSv1",
                "ssl_support_method": "sni-only"
              }
            ],
            "wait_for_deployment": true,
            "web_acl_id": ""
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "aws_acm_certificate.blizzard_quotes",
            "module.blizzard_quotes_ui.aws_cloudfront_origin_access_identity.web",
            "module.blizzard_quotes_ui.aws_s3_bucket.web"
          ]
        }
      ]
    },
    {
      "module": "module.blizzard_quotes_ui",
      "mode": "managed",
      "type": "aws_cloudfront_origin_access_identity",
      "name": "web",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "caller_reference": "terraform-20191227000122936900000001",
            "cloudfront_access_identity_path": "origin-access-identity/cloudfront/E1U7H0IP0ZZIS7",
            "comment": "Origin Access Identity for blizzardquotes.com",
            "etag": "E3MI9PE5EBD5BE",
            "iam_arn": "arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity E1U7H0IP0ZZIS7",
            "id": "E1U7H0IP0ZZIS7",
            "s3_canonical_user_id": "dd9d78c258fc3ed1b5c0ef7325c32e798ad99c779f79d3d6386f53854e3c84d9c1c16ca9eb41fe6f09ead38bc4a99550"
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.blizzard_quotes_ui",
      "mode": "managed",
      "type": "aws_route53_record",
      "name": "quotes_zone_apex_cdn_alias",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "alias": [
              {
                "evaluate_target_health": false,
                "name": "d3w48nyf4rgy7j.cloudfront.net",
                "zone_id": "Z2FDTNDATAQYW2"
              }
            ],
            "allow_overwrite": null,
            "failover_routing_policy": [],
            "fqdn": "blizzardquotes.com",
            "geolocation_routing_policy": [],
            "health_check_id": "",
            "id": "Z2N8RQ0B2P27GZ_blizzardquotes.com_A",
            "latency_routing_policy": [],
            "multivalue_answer_routing_policy": null,
            "name": "blizzardquotes.com",
            "records": [],
            "set_identifier": "",
            "ttl": 0,
            "type": "A",
            "weighted_routing_policy": [],
            "zone_id": "Z2N8RQ0B2P27GZ"
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "aws_acm_certificate.blizzard_quotes",
            "module.blizzard_quotes_ui.aws_cloudfront_distribution.web",
            "module.blizzard_quotes_ui.aws_cloudfront_origin_access_identity.web",
            "module.blizzard_quotes_ui.aws_s3_bucket.web"
          ]
        }
      ]
    },
    {
      "module": "module.blizzard_quotes_ui",
      "mode": "managed",
      "type": "aws_route53_record",
      "name": "www_blizzard_quotes",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": "www.blizzardquotes.com",
          "schema_version": 2,
          "attributes": {
            "alias": [],
            "allow_overwrite": null,
            "failover_routing_policy": [],
            "fqdn": "www.blizzardquotes.com",
            "geolocation_routing_policy": [],
            "health_check_id": "",
            "id": "Z2N8RQ0B2P27GZ_www.blizzardquotes.com_CNAME",
            "latency_routing_policy": [],
            "multivalue_answer_routing_policy": null,
            "name": "www.blizzardquotes.com",
            "records": [
              "blizzardquotes.com"
            ],
            "set_identifier": "",
            "ttl": 5,
            "type": "CNAME",
            "weighted_routing_policy": [],
            "zone_id": "Z2N8RQ0B2P27GZ"
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "module.blizzard_quotes_ui.data.aws_route53_zone.quotes"
          ]
        }
      ]
    },
    {
      "module": "module.blizzard_quotes_ui",
      "mode": "managed",
      "type": "aws_s3_bucket",
      "name": "web",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "acceleration_status": "",
            "acl": "private",
            "arn": "arn:aws:s3:::blizzard-quotes-ui",
            "bucket": "blizzard-quotes-ui",
            "bucket_domain_name": "blizzard-quotes-ui.s3.amazonaws.com",
            "bucket_prefix": null,
            "bucket_regional_domain_name": "blizzard-quotes-ui.s3.amazonaws.com",
            "cors_rule": [],
            "force_destroy": true,
            "grant": [],
            "hosted_zone_id": "Z3AQBSTGFYJSTF",
            "id": "blizzard-quotes-ui",
            "lifecycle_rule": [],
            "logging": [
              {
                "target_bucket": "blizzard-quotes-logs",
                "target_prefix": "s3-access-logs-blizzard-quotes-ui/"
              }
            ],
            "object_lock_configuration": [],
            "policy": null,
            "region": "us-east-1",
            "replication_configuration": [],
            "request_payer": "BucketOwner",
            "server_side_encryption_configuration": [
              {
                "rule": [
                  {
                    "apply_server_side_encryption_by_default": [
                      {
                        "kms_master_key_id": "",
                        "sse_algorithm": "AES256"
                      }
                    ]
                  }
                ]
              }
            ],
            "tags": {
              "Name": "blizzard-quotes-ui",
              "Purpose": "Make blizzardquotes.com available via CloudFront."
            },
            "versioning": [
              {
                "enabled": false,
                "mfa_delete": false
              }
            ],
            "website": [
              {
                "error_document": "index.html",
                "index_document": "index.html",
                "redirect_all_requests_to": "",
                "routing_rules": ""
              }
            ],
            "website_domain": "s3-website-us-east-1.amazonaws.com",
            "website_endpoint": "blizzard-quotes-ui.s3-website-us-east-1.amazonaws.com"
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.blizzard_quotes_ui",
      "mode": "managed",
      "type": "aws_s3_bucket_policy",
      "name": "associate_policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "bucket": "blizzard-quotes-ui",
            "id": "blizzard-quotes-ui",
            "policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"SecureTransport\",\"Effect\":\"Deny\",\"Principal\":{\"AWS\":\"*\"},\"Action\":\"*\",\"Resource\":\"arn:aws:s3:::blizzard-quotes-ui/*\",\"Condition\":{\"Bool\":{\"aws:SecureTransport\":\"false\"}}},{\"Sid\":\"OriginAccessIdentityGet\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity E1U7H0IP0ZZIS7\"},\"Action\":\"s3:GetObject\",\"Resource\":\"arn:aws:s3:::blizzard-quotes-ui/*\"},{\"Sid\":\"OriginAccessIdentityList\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity E1U7H0IP0ZZIS7\"},\"Action\":\"s3:ListBucket\",\"Resource\":\"arn:aws:s3:::blizzard-quotes-ui\"}]}"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.blizzard_quotes_ui.aws_cloudfront_origin_access_identity.web",
            "module.blizzard_quotes_ui.aws_s3_bucket.web"
          ]
        }
      ]
    },
    {
      "module": "module.blizzard_quotes_ui.module.secure_transport_policy",
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "s3_secure_transport_policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "1825673596",
            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"SecureTransport\",\n      \"Effect\": \"Deny\",\n      \"Action\": \"*\",\n      \"Resource\": \"arn:aws:s3:::blizzard-quotes-ui/*\",\n      \"Principal\": {\n        \"AWS\": \"*\"\n      },\n      \"Condition\": {\n        \"Bool\": {\n          \"aws:SecureTransport\": \"false\"\n        }\n      }\n    }\n  ]\n}",
            "override_json": null,
            "policy_id": null,
            "source_json": null,
            "statement": [
              {
                "actions": [
                  "*"
                ],
                "condition": [
                  {
                    "test": "Bool",
                    "values": [
                      "false"
                    ],
                    "variable": "aws:SecureTransport"
                  }
                ],
                "effect": "Deny",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [
                  {
                    "identifiers": [
                      "*"
                    ],
                    "type": "AWS"
                  }
                ],
                "resources": [
                  "arn:aws:s3:::blizzard-quotes-ui/*"
                ],
                "sid": "SecureTransport"
              }
            ],
            "version": "2012-10-17"
          }
        }
      ]
    },
    {
      "module": "module.blizzard_quotes_ui.module.secure_transport_policy_logs",
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "s3_secure_transport_policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "1333758273",
            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"SecureTransport\",\n      \"Effect\": \"Deny\",\n      \"Action\": \"*\",\n      \"Resource\": \"arn:aws:s3:::blizzard-quotes-logs/*\",\n      \"Principal\": {\n        \"AWS\": \"*\"\n      },\n      \"Condition\": {\n        \"Bool\": {\n          \"aws:SecureTransport\": \"false\"\n        }\n      }\n    }\n  ]\n}",
            "override_json": null,
            "policy_id": null,
            "source_json": null,
            "statement": [
              {
                "actions": [
                  "*"
                ],
                "condition": [
                  {
                    "test": "Bool",
                    "values": [
                      "false"
                    ],
                    "variable": "aws:SecureTransport"
                  }
                ],
                "effect": "Deny",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [
                  {
                    "identifiers": [
                      "*"
                    ],
                    "type": "AWS"
                  }
                ],
                "resources": [
                  "arn:aws:s3:::blizzard-quotes-logs/*"
                ],
                "sid": "SecureTransport"
              }
            ],
            "version": "2012-10-17"
          }
        }
      ]
    },
    {
      "module": "module.sc2_acm_dns_validation",
      "mode": "managed",
      "type": "aws_acm_certificate_validation",
      "name": "default",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "certificate_arn": "arn:aws:acm:us-east-1:597331215585:certificate/95c759b6-d0fe-4389-95ee-6998f8409860",
            "id": "2020-12-03 00:15:35 +0000 UTC",
            "timeouts": null,
            "validation_record_fqdns": [
              "_4ec01e3c6aaa06661119902291e56f7a.sc2.blizzardquotes.com",
              "_6fa3ee744ea4a442a990f7e51b0baa65.swagger.sc2.blizzardquotes.com",
              "_c215d098c0fb1e2f9561c0cf3a3bd32c.api.sc2.blizzardquotes.com"
            ]
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoyNzAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "aws_acm_certificate.sc2_quotes",
            "data.aws_route53_zone.blizzard_quotes",
            "module.sc2_acm_dns_validation.aws_route53_record.dns_validation"
          ]
        }
      ]
    },
    {
      "module": "module.sc2_acm_dns_validation",
      "mode": "managed",
      "type": "aws_route53_record",
      "name": "dns_validation",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": "*.api.sc2.blizzardquotes.com",
          "schema_version": 2,
          "attributes": {
            "alias": [],
            "allow_overwrite": true,
            "failover_routing_policy": [],
            "fqdn": "_c215d098c0fb1e2f9561c0cf3a3bd32c.api.sc2.blizzardquotes.com",
            "geolocation_routing_policy": [],
            "health_check_id": "",
            "id": "Z2N8RQ0B2P27GZ__c215d098c0fb1e2f9561c0cf3a3bd32c.api.sc2.blizzardquotes.com._CNAME",
            "latency_routing_policy": [],
            "multivalue_answer_routing_policy": null,
            "name": "_c215d098c0fb1e2f9561c0cf3a3bd32c.api.sc2.blizzardquotes.com",
            "records": [
              "_74165899ff9c0c220f28d092a670a30f.olprtlswtu.acm-validations.aws."
            ],
            "set_identifier": "",
            "ttl": 60,
            "type": "CNAME",
            "weighted_routing_policy": [],
            "zone_id": "Z2N8RQ0B2P27GZ"
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "aws_acm_certificate.sc2_quotes",
            "data.aws_route53_zone.blizzard_quotes"
          ]
        },
        {
          "index_key": "*.sc2.blizzardquotes.com",
          "schema_version": 2,
          "attributes": {
            "alias": [],
            "allow_overwrite": true,
            "failover_routing_policy": [],
            "fqdn": "_4ec01e3c6aaa06661119902291e56f7a.sc2.blizzardquotes.com",
            "geolocation_routing_policy": [],
            "health_check_id": "",
            "id": "Z2N8RQ0B2P27GZ__4ec01e3c6aaa06661119902291e56f7a.sc2.blizzardquotes.com._CNAME",
            "latency_routing_policy": [],
            "multivalue_answer_routing_policy": null,
            "name": "_4ec01e3c6aaa06661119902291e56f7a.sc2.blizzardquotes.com",
            "records": [
              "_ae3a8700a0561010aafd329951e9542b.olprtlswtu.acm-validations.aws."
            ],
            "set_identifier": "",
            "ttl": 60,
            "type": "CNAME",
            "weighted_routing_policy": [],
            "zone_id": "Z2N8RQ0B2P27GZ"
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "aws_acm_certificate.sc2_quotes",
            "data.aws_route53_zone.blizzard_quotes"
          ]
        },
        {
          "index_key": "*.swagger.sc2.blizzardquotes.com",
          "schema_version": 2,
          "attributes": {
            "alias": [],
            "allow_overwrite": true,
            "failover_routing_policy": [],
            "fqdn": "_6fa3ee744ea4a442a990f7e51b0baa65.swagger.sc2.blizzardquotes.com",
            "geolocation_routing_policy": [],
            "health_check_id": "",
            "id": "Z2N8RQ0B2P27GZ__6fa3ee744ea4a442a990f7e51b0baa65.swagger.sc2.blizzardquotes.com._CNAME",
            "latency_routing_policy": [],
            "multivalue_answer_routing_policy": null,
            "name": "_6fa3ee744ea4a442a990f7e51b0baa65.swagger.sc2.blizzardquotes.com",
            "records": [
              "_d2cfe783c79ceb855ddd076e4a00684d.olprtlswtu.acm-validations.aws."
            ],
            "set_identifier": "",
            "ttl": 60,
            "type": "CNAME",
            "weighted_routing_policy": [],
            "zone_id": "Z2N8RQ0B2P27GZ"
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "aws_acm_certificate.sc2_quotes",
            "data.aws_route53_zone.blizzard_quotes"
          ]
        },
        {
          "index_key": "sc2.blizzardquotes.com",
          "schema_version": 2,
          "attributes": {
            "alias": [],
            "allow_overwrite": true,
            "failover_routing_policy": [],
            "fqdn": "_4ec01e3c6aaa06661119902291e56f7a.sc2.blizzardquotes.com",
            "geolocation_routing_policy": [],
            "health_check_id": "",
            "id": "Z2N8RQ0B2P27GZ__4ec01e3c6aaa06661119902291e56f7a.sc2.blizzardquotes.com._CNAME",
            "latency_routing_policy": [],
            "multivalue_answer_routing_policy": null,
            "name": "_4ec01e3c6aaa06661119902291e56f7a.sc2.blizzardquotes.com",
            "records": [
              "_ae3a8700a0561010aafd329951e9542b.olprtlswtu.acm-validations.aws."
            ],
            "set_identifier": "",
            "ttl": 60,
            "type": "CNAME",
            "weighted_routing_policy": [],
            "zone_id": "Z2N8RQ0B2P27GZ"
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "aws_acm_certificate.sc2_quotes",
            "data.aws_route53_zone.blizzard_quotes"
          ]
        }
      ]
    },
    {
      "module": "module.sc2_quotes_ui",
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "web",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "3795442172",
            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"SecureTransport\",\n      \"Effect\": \"Deny\",\n      \"Action\": \"*\",\n      \"Resource\": \"arn:aws:s3:::blizzard-quotes-sc2-ui/*\",\n      \"Principal\": {\n        \"AWS\": \"*\"\n      },\n      \"Condition\": {\n        \"Bool\": {\n          \"aws:SecureTransport\": [\n            \"false\"\n          ]\n        }\n      }\n    },\n    {\n      \"Sid\": \"OriginAccessIdentityGet\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"s3:GetObject\",\n      \"Resource\": \"arn:aws:s3:::blizzard-quotes-sc2-ui/*\",\n      \"Principal\": {\n        \"AWS\": \"arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity E2YBES8OSK3ZZN\"\n      }\n    },\n    {\n      \"Sid\": \"OriginAccessIdentityList\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"s3:ListBucket\",\n      \"Resource\": \"arn:aws:s3:::blizzard-quotes-sc2-ui\",\n      \"Principal\": {\n        \"AWS\": \"arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity E2YBES8OSK3ZZN\"\n      }\n    }\n  ]\n}",
            "override_json": null,
            "policy_id": null,
            "source_json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"SecureTransport\",\n      \"Effect\": \"Deny\",\n      \"Action\": \"*\",\n      \"Resource\": \"arn:aws:s3:::blizzard-quotes-sc2-ui/*\",\n      \"Principal\": {\n        \"AWS\": \"*\"\n      },\n      \"Condition\": {\n        \"Bool\": {\n          \"aws:SecureTransport\": \"false\"\n        }\n      }\n    }\n  ]\n}",
            "statement": [
              {
                "actions": [
                  "s3:GetObject"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [
                  {
                    "identifiers": [
                      "arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity E2YBES8OSK3ZZN"
                    ],
                    "type": "AWS"
                  }
                ],
                "resources": [
                  "arn:aws:s3:::blizzard-quotes-sc2-ui/*"
                ],
                "sid": "OriginAccessIdentityGet"
              },
              {
                "actions": [
                  "s3:ListBucket"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [
                  {
                    "identifiers": [
                      "arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity E2YBES8OSK3ZZN"
                    ],
                    "type": "AWS"
                  }
                ],
                "resources": [
                  "arn:aws:s3:::blizzard-quotes-sc2-ui"
                ],
                "sid": "OriginAccessIdentityList"
              }
            ],
            "version": "2012-10-17"
          }
        }
      ]
    },
    {
      "module": "module.sc2_quotes_ui",
      "mode": "data",
      "type": "aws_route53_zone",
      "name": "quotes",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "caller_reference": "RISWorkflow-RD:abe34b1e-be1f-4ff5-8dbf-6912e57eff9a",
            "comment": "HostedZone created by Route53 Registrar",
            "id": "Z2N8RQ0B2P27GZ",
            "linked_service_description": null,
            "linked_service_principal": null,
            "name": "blizzardquotes.com",
            "name_servers": [
              "ns-1390.awsdns-45.org",
              "ns-693.awsdns-22.net",
              "ns-467.awsdns-58.com",
              "ns-1997.awsdns-57.co.uk"
            ],
            "private_zone": false,
            "resource_record_set_count": 39,
            "tags": {},
            "vpc_id": null,
            "zone_id": "Z2N8RQ0B2P27GZ"
          }
        }
      ]
    },
    {
      "module": "module.sc2_quotes_ui",
      "mode": "managed",
      "type": "aws_cloudfront_distribution",
      "name": "web",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "aliases": [
              "sc2.blizzardquotes.com"
            ],
            "arn": "arn:aws:cloudfront::597331215585:distribution/E30QCXP8TDCEAU",
            "caller_reference": "terraform-20201203195710645400000001",
            "comment": "CloudFront distribution for hosting sc2.blizzardquotes.com",
            "custom_error_response": [
              {
                "error_caching_min_ttl": 5,
                "error_code": 404,
                "response_code": 200,
                "response_page_path": "/index.html"
              }
            ],
            "default_cache_behavior": [
              {
                "allowed_methods": [
                  "GET",
                  "HEAD",
                  "OPTIONS"
                ],
                "cached_methods": [
                  "GET",
                  "HEAD"
                ],
                "compress": false,
                "default_ttl": 3600,
                "field_level_encryption_id": "",
                "forwarded_values": [
                  {
                    "cookies": [
                      {
                        "forward": "none",
                        "whitelisted_names": []
                      }
                    ],
                    "headers": [],
                    "query_string": false,
                    "query_string_cache_keys": []
                  }
                ],
                "lambda_function_association": [],
                "max_ttl": 86400,
                "min_ttl": 0,
                "smooth_streaming": false,
                "target_origin_id": "blizzard-quotes-sc2-ui",
                "trusted_signers": [],
                "viewer_protocol_policy": "redirect-to-https"
              }
            ],
            "default_root_object": "index.html",
            "domain_name": "d3akmjihbrdpwz.cloudfront.net",
            "enabled": true,
            "etag": "E2K9QFHW13I7T2",
            "hosted_zone_id": "Z2FDTNDATAQYW2",
            "http_version": "http2",
            "id": "E30QCXP8TDCEAU",
            "in_progress_validation_batches": 0,
            "is_ipv6_enabled": true,
            "last_modified_time": "2020-12-03 19:57:08.934 +0000 UTC",
            "logging_config": [
              {
                "bucket": "blizzard-quotes-logs.s3.amazonaws.com",
                "include_cookies": false,
                "prefix": "cloud-front-sc2-blizzardquotes-com-web/"
              }
            ],
            "ordered_cache_behavior": [],
            "origin": [
              {
                "custom_header": [],
                "custom_origin_config": [],
                "domain_name": "blizzard-quotes-sc2-ui.s3.amazonaws.com",
                "origin_id": "blizzard-quotes-sc2-ui",
                "origin_path": "",
                "s3_origin_config": [
                  {
                    "origin_access_identity": "origin-access-identity/cloudfront/E2YBES8OSK3ZZN"
                  }
                ]
              }
            ],
            "origin_group": [],
            "price_class": "PriceClass_100",
            "restrictions": [
              {
                "geo_restriction": [
                  {
                    "locations": [],
                    "restriction_type": "none"
                  }
                ]
              }
            ],
            "retain_on_delete": false,
            "status": "Deployed",
            "tags": {
              "Name": "sc2.blizzardquotes.com",
              "Purpose": "CloudFront distribution for hosting sc2.blizzardquotes.com"
            },
            "trusted_signers": [
              {
                "enabled": false,
                "items": []
              }
            ],
            "viewer_certificate": [
              {
                "acm_certificate_arn": "arn:aws:acm:us-east-1:597331215585:certificate/95c759b6-d0fe-4389-95ee-6998f8409860",
                "cloudfront_default_certificate": false,
                "iam_certificate_id": "",
                "minimum_protocol_version": "TLSv1",
                "ssl_support_method": "sni-only"
              }
            ],
            "wait_for_deployment": true,
            "web_acl_id": ""
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "aws_acm_certificate.sc2_quotes",
            "module.sc2_quotes_ui.aws_cloudfront_origin_access_identity.web",
            "module.sc2_quotes_ui.aws_s3_bucket.web"
          ]
        }
      ]
    },
    {
      "module": "module.sc2_quotes_ui",
      "mode": "managed",
      "type": "aws_cloudfront_origin_access_identity",
      "name": "web",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "caller_reference": "terraform-20191229055224701700000002",
            "cloudfront_access_identity_path": "origin-access-identity/cloudfront/E2YBES8OSK3ZZN",
            "comment": "Origin Access Identity for sc2.blizzardquotes.com",
            "etag": "EL7811OI93IX",
            "iam_arn": "arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity E2YBES8OSK3ZZN",
            "id": "E2YBES8OSK3ZZN",
            "s3_canonical_user_id": "782c41c741fb673ad4f2b03818783e6c16283111837eac5683e6abea26444763d7c3a1d8128206904fff18ab939ea434"
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.sc2_quotes_ui",
      "mode": "managed",
      "type": "aws_route53_record",
      "name": "quotes_zone_apex_cdn_alias",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "alias": [
              {
                "evaluate_target_health": false,
                "name": "d3akmjihbrdpwz.cloudfront.net",
                "zone_id": "Z2FDTNDATAQYW2"
              }
            ],
            "allow_overwrite": null,
            "failover_routing_policy": [],
            "fqdn": "sc2.blizzardquotes.com",
            "geolocation_routing_policy": [],
            "health_check_id": "",
            "id": "Z2N8RQ0B2P27GZ_sc2.blizzardquotes.com_A",
            "latency_routing_policy": [],
            "multivalue_answer_routing_policy": null,
            "name": "sc2.blizzardquotes.com",
            "records": [],
            "set_identifier": "",
            "ttl": 0,
            "type": "A",
            "weighted_routing_policy": [],
            "zone_id": "Z2N8RQ0B2P27GZ"
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "aws_acm_certificate.sc2_quotes",
            "module.sc2_quotes_ui.aws_cloudfront_distribution.web",
            "module.sc2_quotes_ui.aws_cloudfront_origin_access_identity.web",
            "module.sc2_quotes_ui.aws_s3_bucket.web",
            "module.sc2_quotes_ui.data.aws_route53_zone.quotes"
          ]
        }
      ]
    },
    {
      "module": "module.sc2_quotes_ui",
      "mode": "managed",
      "type": "aws_s3_bucket",
      "name": "web",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "acceleration_status": "",
            "acl": "private",
            "arn": "arn:aws:s3:::blizzard-quotes-sc2-ui",
            "bucket": "blizzard-quotes-sc2-ui",
            "bucket_domain_name": "blizzard-quotes-sc2-ui.s3.amazonaws.com",
            "bucket_prefix": null,
            "bucket_regional_domain_name": "blizzard-quotes-sc2-ui.s3.amazonaws.com",
            "cors_rule": [],
            "force_destroy": true,
            "grant": [],
            "hosted_zone_id": "Z3AQBSTGFYJSTF",
            "id": "blizzard-quotes-sc2-ui",
            "lifecycle_rule": [],
            "logging": [
              {
                "target_bucket": "blizzard-quotes-logs",
                "target_prefix": "s3-access-logs-blizzard-quotes-sc2-ui/"
              }
            ],
            "object_lock_configuration": [],
            "policy": null,
            "region": "us-east-1",
            "replication_configuration": [],
            "request_payer": "BucketOwner",
            "server_side_encryption_configuration": [
              {
                "rule": [
                  {
                    "apply_server_side_encryption_by_default": [
                      {
                        "kms_master_key_id": "",
                        "sse_algorithm": "AES256"
                      }
                    ]
                  }
                ]
              }
            ],
            "tags": {
              "Name": "blizzard-quotes-sc2-ui",
              "Purpose": "Make sc2.blizzardquotes.com available via CloudFront."
            },
            "versioning": [
              {
                "enabled": false,
                "mfa_delete": false
              }
            ],
            "website": [
              {
                "error_document": "index.html",
                "index_document": "index.html",
                "redirect_all_requests_to": "",
                "routing_rules": ""
              }
            ],
            "website_domain": "s3-website-us-east-1.amazonaws.com",
            "website_endpoint": "blizzard-quotes-sc2-ui.s3-website-us-east-1.amazonaws.com"
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.sc2_quotes_ui",
      "mode": "managed",
      "type": "aws_s3_bucket_policy",
      "name": "associate_policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "bucket": "blizzard-quotes-sc2-ui",
            "id": "blizzard-quotes-sc2-ui",
            "policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"SecureTransport\",\"Effect\":\"Deny\",\"Principal\":{\"AWS\":\"*\"},\"Action\":\"*\",\"Resource\":\"arn:aws:s3:::blizzard-quotes-sc2-ui/*\",\"Condition\":{\"Bool\":{\"aws:SecureTransport\":\"false\"}}},{\"Sid\":\"OriginAccessIdentityGet\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity E2YBES8OSK3ZZN\"},\"Action\":\"s3:GetObject\",\"Resource\":\"arn:aws:s3:::blizzard-quotes-sc2-ui/*\"},{\"Sid\":\"OriginAccessIdentityList\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity E2YBES8OSK3ZZN\"},\"Action\":\"s3:ListBucket\",\"Resource\":\"arn:aws:s3:::blizzard-quotes-sc2-ui\"}]}"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.sc2_quotes_ui.aws_cloudfront_origin_access_identity.web",
            "module.sc2_quotes_ui.aws_s3_bucket.web"
          ]
        }
      ]
    },
    {
      "module": "module.sc2_quotes_ui.module.secure_transport_policy",
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "s3_secure_transport_policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "2334410561",
            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"SecureTransport\",\n      \"Effect\": \"Deny\",\n      \"Action\": \"*\",\n      \"Resource\": \"arn:aws:s3:::blizzard-quotes-sc2-ui/*\",\n      \"Principal\": {\n        \"AWS\": \"*\"\n      },\n      \"Condition\": {\n        \"Bool\": {\n          \"aws:SecureTransport\": \"false\"\n        }\n      }\n    }\n  ]\n}",
            "override_json": null,
            "policy_id": null,
            "source_json": null,
            "statement": [
              {
                "actions": [
                  "*"
                ],
                "condition": [
                  {
                    "test": "Bool",
                    "values": [
                      "false"
                    ],
                    "variable": "aws:SecureTransport"
                  }
                ],
                "effect": "Deny",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [
                  {
                    "identifiers": [
                      "*"
                    ],
                    "type": "AWS"
                  }
                ],
                "resources": [
                  "arn:aws:s3:::blizzard-quotes-sc2-ui/*"
                ],
                "sid": "SecureTransport"
              }
            ],
            "version": "2012-10-17"
          }
        }
      ]
    },
    {
      "module": "module.sc2_quotes_ui.module.secure_transport_policy_logs",
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "s3_secure_transport_policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "1333758273",
            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"SecureTransport\",\n      \"Effect\": \"Deny\",\n      \"Action\": \"*\",\n      \"Resource\": \"arn:aws:s3:::blizzard-quotes-logs/*\",\n      \"Principal\": {\n        \"AWS\": \"*\"\n      },\n      \"Condition\": {\n        \"Bool\": {\n          \"aws:SecureTransport\": \"false\"\n        }\n      }\n    }\n  ]\n}",
            "override_json": null,
            "policy_id": null,
            "source_json": null,
            "statement": [
              {
                "actions": [
                  "*"
                ],
                "condition": [
                  {
                    "test": "Bool",
                    "values": [
                      "false"
                    ],
                    "variable": "aws:SecureTransport"
                  }
                ],
                "effect": "Deny",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [
                  {
                    "identifiers": [
                      "*"
                    ],
                    "type": "AWS"
                  }
                ],
                "resources": [
                  "arn:aws:s3:::blizzard-quotes-logs/*"
                ],
                "sid": "SecureTransport"
              }
            ],
            "version": "2012-10-17"
          }
        }
      ]
    },
    {
      "module": "module.sc2_swagger",
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "web",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "274617853",
            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"SecureTransport\",\n      \"Effect\": \"Deny\",\n      \"Action\": \"*\",\n      \"Resource\": \"arn:aws:s3:::blizzard-quotes-sc2-swagger/*\",\n      \"Principal\": {\n        \"AWS\": \"*\"\n      },\n      \"Condition\": {\n        \"Bool\": {\n          \"aws:SecureTransport\": [\n            \"false\"\n          ]\n        }\n      }\n    },\n    {\n      \"Sid\": \"OriginAccessIdentityGet\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"s3:GetObject\",\n      \"Resource\": \"arn:aws:s3:::blizzard-quotes-sc2-swagger/*\",\n      \"Principal\": {\n        \"AWS\": \"arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity E1HCH8DT65N64W\"\n      }\n    },\n    {\n      \"Sid\": \"OriginAccessIdentityList\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"s3:ListBucket\",\n      \"Resource\": \"arn:aws:s3:::blizzard-quotes-sc2-swagger\",\n      \"Principal\": {\n        \"AWS\": \"arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity E1HCH8DT65N64W\"\n      }\n    }\n  ]\n}",
            "override_json": null,
            "policy_id": null,
            "source_json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"SecureTransport\",\n      \"Effect\": \"Deny\",\n      \"Action\": \"*\",\n      \"Resource\": \"arn:aws:s3:::blizzard-quotes-sc2-swagger/*\",\n      \"Principal\": {\n        \"AWS\": \"*\"\n      },\n      \"Condition\": {\n        \"Bool\": {\n          \"aws:SecureTransport\": \"false\"\n        }\n      }\n    }\n  ]\n}",
            "statement": [
              {
                "actions": [
                  "s3:GetObject"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [
                  {
                    "identifiers": [
                      "arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity E1HCH8DT65N64W"
                    ],
                    "type": "AWS"
                  }
                ],
                "resources": [
                  "arn:aws:s3:::blizzard-quotes-sc2-swagger/*"
                ],
                "sid": "OriginAccessIdentityGet"
              },
              {
                "actions": [
                  "s3:ListBucket"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [
                  {
                    "identifiers": [
                      "arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity E1HCH8DT65N64W"
                    ],
                    "type": "AWS"
                  }
                ],
                "resources": [
                  "arn:aws:s3:::blizzard-quotes-sc2-swagger"
                ],
                "sid": "OriginAccessIdentityList"
              }
            ],
            "version": "2012-10-17"
          }
        }
      ]
    },
    {
      "module": "module.sc2_swagger",
      "mode": "data",
      "type": "aws_route53_zone",
      "name": "quotes",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "caller_reference": "RISWorkflow-RD:abe34b1e-be1f-4ff5-8dbf-6912e57eff9a",
            "comment": "HostedZone created by Route53 Registrar",
            "id": "Z2N8RQ0B2P27GZ",
            "linked_service_description": null,
            "linked_service_principal": null,
            "name": "blizzardquotes.com",
            "name_servers": [
              "ns-1390.awsdns-45.org",
              "ns-693.awsdns-22.net",
              "ns-467.awsdns-58.com",
              "ns-1997.awsdns-57.co.uk"
            ],
            "private_zone": false,
            "resource_record_set_count": 39,
            "tags": {},
            "vpc_id": null,
            "zone_id": "Z2N8RQ0B2P27GZ"
          }
        }
      ]
    },
    {
      "module": "module.sc2_swagger",
      "mode": "managed",
      "type": "aws_cloudfront_distribution",
      "name": "web",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "aliases": [
              "swagger.sc2.blizzardquotes.com"
            ],
            "arn": "arn:aws:cloudfront::597331215585:distribution/E25TUIYE0C9US",
            "caller_reference": "terraform-20201203195710649800000002",
            "comment": "CloudFront distribution for hosting swagger.sc2.blizzardquotes.com",
            "custom_error_response": [
              {
                "error_caching_min_ttl": 5,
                "error_code": 404,
                "response_code": 200,
                "response_page_path": "/index.html"
              }
            ],
            "default_cache_behavior": [
              {
                "allowed_methods": [
                  "GET",
                  "HEAD",
                  "OPTIONS"
                ],
                "cached_methods": [
                  "GET",
                  "HEAD"
                ],
                "compress": false,
                "default_ttl": 3600,
                "field_level_encryption_id": "",
                "forwarded_values": [
                  {
                    "cookies": [
                      {
                        "forward": "none",
                        "whitelisted_names": []
                      }
                    ],
                    "headers": [],
                    "query_string": false,
                    "query_string_cache_keys": []
                  }
                ],
                "lambda_function_association": [],
                "max_ttl": 86400,
                "min_ttl": 0,
                "smooth_streaming": false,
                "target_origin_id": "blizzard-quotes-sc2-swagger",
                "trusted_signers": [],
                "viewer_protocol_policy": "redirect-to-https"
              }
            ],
            "default_root_object": "index.html",
            "domain_name": "d1n2zhni1jlpy7.cloudfront.net",
            "enabled": true,
            "etag": "E107HFCH54P5BY",
            "hosted_zone_id": "Z2FDTNDATAQYW2",
            "http_version": "http2",
            "id": "E25TUIYE0C9US",
            "in_progress_validation_batches": 0,
            "is_ipv6_enabled": true,
            "last_modified_time": "2020-12-03 19:57:20.8 +0000 UTC",
            "logging_config": [
              {
                "bucket": "blizzard-quotes-logs.s3.amazonaws.com",
                "include_cookies": false,
                "prefix": "cloud-front-swagger-sc2-blizzardquotes-com-web/"
              }
            ],
            "ordered_cache_behavior": [],
            "origin": [
              {
                "custom_header": [],
                "custom_origin_config": [],
                "domain_name": "blizzard-quotes-sc2-swagger.s3.amazonaws.com",
                "origin_id": "blizzard-quotes-sc2-swagger",
                "origin_path": "",
                "s3_origin_config": [
                  {
                    "origin_access_identity": "origin-access-identity/cloudfront/E1HCH8DT65N64W"
                  }
                ]
              }
            ],
            "origin_group": [],
            "price_class": "PriceClass_100",
            "restrictions": [
              {
                "geo_restriction": [
                  {
                    "locations": [],
                    "restriction_type": "none"
                  }
                ]
              }
            ],
            "retain_on_delete": false,
            "status": "Deployed",
            "tags": {
              "Name": "swagger.sc2.blizzardquotes.com",
              "Purpose": "CloudFront distribution for hosting swagger.sc2.blizzardquotes.com"
            },
            "trusted_signers": [
              {
                "enabled": false,
                "items": []
              }
            ],
            "viewer_certificate": [
              {
                "acm_certificate_arn": "arn:aws:acm:us-east-1:597331215585:certificate/95c759b6-d0fe-4389-95ee-6998f8409860",
                "cloudfront_default_certificate": false,
                "iam_certificate_id": "",
                "minimum_protocol_version": "TLSv1",
                "ssl_support_method": "sni-only"
              }
            ],
            "wait_for_deployment": true,
            "web_acl_id": ""
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "aws_acm_certificate.sc2_quotes",
            "module.sc2_swagger.aws_cloudfront_origin_access_identity.web",
            "module.sc2_swagger.aws_s3_bucket.web"
          ]
        }
      ]
    },
    {
      "module": "module.sc2_swagger",
      "mode": "managed",
      "type": "aws_cloudfront_origin_access_identity",
      "name": "web",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "caller_reference": "terraform-20191226231510884900000001",
            "cloudfront_access_identity_path": "origin-access-identity/cloudfront/E1HCH8DT65N64W",
            "comment": "Origin Access Identity for swagger.sc2.blizzardquotes.com",
            "etag": "E3SL9285LEHDKD",
            "iam_arn": "arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity E1HCH8DT65N64W",
            "id": "E1HCH8DT65N64W",
            "s3_canonical_user_id": "862855e78983a695ed7ecb863a5dee8b26200b7a51eb3f1c3b9d7a1db8d0aacd1e411c22fa74fdc42cdbd1eea78968f2"
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.sc2_swagger",
      "mode": "managed",
      "type": "aws_route53_record",
      "name": "quotes_zone_apex_cdn_alias",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "alias": [
              {
                "evaluate_target_health": false,
                "name": "d1n2zhni1jlpy7.cloudfront.net",
                "zone_id": "Z2FDTNDATAQYW2"
              }
            ],
            "allow_overwrite": null,
            "failover_routing_policy": [],
            "fqdn": "swagger.sc2.blizzardquotes.com",
            "geolocation_routing_policy": [],
            "health_check_id": "",
            "id": "Z2N8RQ0B2P27GZ_swagger.sc2.blizzardquotes.com_A",
            "latency_routing_policy": [],
            "multivalue_answer_routing_policy": null,
            "name": "swagger.sc2.blizzardquotes.com",
            "records": [],
            "set_identifier": "",
            "ttl": 0,
            "type": "A",
            "weighted_routing_policy": [],
            "zone_id": "Z2N8RQ0B2P27GZ"
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "aws_acm_certificate.sc2_quotes",
            "module.sc2_swagger.aws_cloudfront_distribution.web",
            "module.sc2_swagger.aws_cloudfront_origin_access_identity.web",
            "module.sc2_swagger.aws_s3_bucket.web",
            "module.sc2_swagger.data.aws_route53_zone.quotes"
          ]
        }
      ]
    },
    {
      "module": "module.sc2_swagger",
      "mode": "managed",
      "type": "aws_s3_bucket",
      "name": "web",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "acceleration_status": "",
            "acl": "private",
            "arn": "arn:aws:s3:::blizzard-quotes-sc2-swagger",
            "bucket": "blizzard-quotes-sc2-swagger",
            "bucket_domain_name": "blizzard-quotes-sc2-swagger.s3.amazonaws.com",
            "bucket_prefix": null,
            "bucket_regional_domain_name": "blizzard-quotes-sc2-swagger.s3.amazonaws.com",
            "cors_rule": [],
            "force_destroy": true,
            "grant": [],
            "hosted_zone_id": "Z3AQBSTGFYJSTF",
            "id": "blizzard-quotes-sc2-swagger",
            "lifecycle_rule": [],
            "logging": [
              {
                "target_bucket": "blizzard-quotes-logs",
                "target_prefix": "s3-access-logs-blizzard-quotes-sc2-swagger/"
              }
            ],
            "object_lock_configuration": [],
            "policy": null,
            "region": "us-east-1",
            "replication_configuration": [],
            "request_payer": "BucketOwner",
            "server_side_encryption_configuration": [
              {
                "rule": [
                  {
                    "apply_server_side_encryption_by_default": [
                      {
                        "kms_master_key_id": "",
                        "sse_algorithm": "AES256"
                      }
                    ]
                  }
                ]
              }
            ],
            "tags": {
              "Name": "blizzard-quotes-sc2-swagger",
              "Purpose": "Make swagger.sc2.blizzardquotes.com available via CloudFront."
            },
            "versioning": [
              {
                "enabled": false,
                "mfa_delete": false
              }
            ],
            "website": [
              {
                "error_document": "index.html",
                "index_document": "index.html",
                "redirect_all_requests_to": "",
                "routing_rules": ""
              }
            ],
            "website_domain": "s3-website-us-east-1.amazonaws.com",
            "website_endpoint": "blizzard-quotes-sc2-swagger.s3-website-us-east-1.amazonaws.com"
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.sc2_swagger",
      "mode": "managed",
      "type": "aws_s3_bucket_policy",
      "name": "associate_policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "bucket": "blizzard-quotes-sc2-swagger",
            "id": "blizzard-quotes-sc2-swagger",
            "policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"SecureTransport\",\"Effect\":\"Deny\",\"Principal\":{\"AWS\":\"*\"},\"Action\":\"*\",\"Resource\":\"arn:aws:s3:::blizzard-quotes-sc2-swagger/*\",\"Condition\":{\"Bool\":{\"aws:SecureTransport\":\"false\"}}},{\"Sid\":\"OriginAccessIdentityGet\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity E1HCH8DT65N64W\"},\"Action\":\"s3:GetObject\",\"Resource\":\"arn:aws:s3:::blizzard-quotes-sc2-swagger/*\"},{\"Sid\":\"OriginAccessIdentityList\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity E1HCH8DT65N64W\"},\"Action\":\"s3:ListBucket\",\"Resource\":\"arn:aws:s3:::blizzard-quotes-sc2-swagger\"}]}"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.sc2_swagger.aws_cloudfront_origin_access_identity.web",
            "module.sc2_swagger.aws_s3_bucket.web"
          ]
        }
      ]
    },
    {
      "module": "module.sc2_swagger.module.secure_transport_policy",
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "s3_secure_transport_policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "2152854253",
            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"SecureTransport\",\n      \"Effect\": \"Deny\",\n      \"Action\": \"*\",\n      \"Resource\": \"arn:aws:s3:::blizzard-quotes-sc2-swagger/*\",\n      \"Principal\": {\n        \"AWS\": \"*\"\n      },\n      \"Condition\": {\n        \"Bool\": {\n          \"aws:SecureTransport\": \"false\"\n        }\n      }\n    }\n  ]\n}",
            "override_json": null,
            "policy_id": null,
            "source_json": null,
            "statement": [
              {
                "actions": [
                  "*"
                ],
                "condition": [
                  {
                    "test": "Bool",
                    "values": [
                      "false"
                    ],
                    "variable": "aws:SecureTransport"
                  }
                ],
                "effect": "Deny",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [
                  {
                    "identifiers": [
                      "*"
                    ],
                    "type": "AWS"
                  }
                ],
                "resources": [
                  "arn:aws:s3:::blizzard-quotes-sc2-swagger/*"
                ],
                "sid": "SecureTransport"
              }
            ],
            "version": "2012-10-17"
          }
        }
      ]
    },
    {
      "module": "module.sc2_swagger.module.secure_transport_policy_logs",
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "s3_secure_transport_policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "1333758273",
            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"SecureTransport\",\n      \"Effect\": \"Deny\",\n      \"Action\": \"*\",\n      \"Resource\": \"arn:aws:s3:::blizzard-quotes-logs/*\",\n      \"Principal\": {\n        \"AWS\": \"*\"\n      },\n      \"Condition\": {\n        \"Bool\": {\n          \"aws:SecureTransport\": \"false\"\n        }\n      }\n    }\n  ]\n}",
            "override_json": null,
            "policy_id": null,
            "source_json": null,
            "statement": [
              {
                "actions": [
                  "*"
                ],
                "condition": [
                  {
                    "test": "Bool",
                    "values": [
                      "false"
                    ],
                    "variable": "aws:SecureTransport"
                  }
                ],
                "effect": "Deny",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [
                  {
                    "identifiers": [
                      "*"
                    ],
                    "type": "AWS"
                  }
                ],
                "resources": [
                  "arn:aws:s3:::blizzard-quotes-logs/*"
                ],
                "sid": "SecureTransport"
              }
            ],
            "version": "2012-10-17"
          }
        }
      ]
    },
    {
      "module": "module.sc2_swagger_ui",
      "mode": "data",
      "type": "external",
      "name": "swagger_ui_latest_version",
      "provider": "provider[\"registry.terraform.io/hashicorp/external\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "-",
            "program": [
              "bash",
              ".terraform/modules/sc2_swagger_ui/scripts/latest-version.sh"
            ],
            "query": null,
            "result": {
              "version": "v3.38.0"
            },
            "working_dir": null
          }
        }
      ]
    },
    {
      "module": "module.sc2_swagger_ui",
      "mode": "data",
      "type": "template_file",
      "name": "destroy_swagger_ui",
      "provider": "provider[\"registry.terraform.io/hashicorp/template\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "filename": null,
            "id": "8b7990aed6b0edc3e2407cc74b0ccfe873a312dcc0e5a2d6d2ea4e63fe5bfd65",
            "rendered": "BUCKET_PATH=blizzard-quotes-sc2-swagger\n\nPROFILE=blizzard-quotes\n\naws s3 rm --profile $PROFILE s3://$BUCKET_PATH --recursive --exclude \"*/*\"\n",
            "template": "BUCKET_PATH=${bucket_path}\n\nPROFILE=${profile}\n\naws s3 rm --profile $PROFILE s3://$BUCKET_PATH --recursive --exclude \"*/*\"\n",
            "vars": {
              "bucket_path": "blizzard-quotes-sc2-swagger",
              "profile": "blizzard-quotes"
            }
          }
        }
      ]
    },
    {
      "module": "module.sc2_swagger_ui",
      "mode": "data",
      "type": "template_file",
      "name": "install_swagger_ui",
      "provider": "provider[\"registry.terraform.io/hashicorp/template\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "filename": null,
            "id": "dae187aabe550112aa64eac2de2069a59e27ff80425e38ac1ed2da0fb613c699",
            "rendered": "DIR_PATH=.terraform/modules/sc2_swagger_ui\n\nACL=private\nBUCKET_PATH=blizzard-quotes-sc2-swagger\nOPENAPI_SPEC_PATHS=(/mnt/d/Workspace/tf-blizzard-quotes/specifications/sc2/v1.yml)\nOPENAPI_SPEC_URLS=(https://swagger.sc2.blizzardquotes.com/v1.yml)\nSWAGGER_UI_VERSION=v3.38.0\n\nPROFILE=blizzard-quotes\n\nWORK_DIR=tmp\nSWAGGER_TARGET=$WORK_DIR/$(basename $BUCKET_PATH)/$(dirname $BUCKET_PATH)/swagger-ui\n\nmkdir -p $DIR_PATH/$SWAGGER_TARGET\n\ncurl --silent -L https://github.com/swagger-api/swagger-ui/archive/$SWAGGER_UI_VERSION.tar.gz -o $DIR_PATH/$SWAGGER_TARGET.tar.gz\ntar --strip-components 1 -C $DIR_PATH/$SWAGGER_TARGET -xf $DIR_PATH/$SWAGGER_TARGET.tar.gz\n\n# Grab the count of the largest array\nif [ ${#OPENAPI_SPEC_PATHS[@]} -gt ${#OPENAPI_SPEC_URLS[@]} ]; then\n  max=${#OPENAPI_SPEC_PATHS[@]}\nelse\n  max=${#OPENAPI_SPEC_URLS[@]}\nfi\n\nbucket_key_without_file=\"/\"\nif [[ $BUCKET_PATH == *\"/\"* ]]; then\n  bucket_key_without_file=${BUCKET_PATH#*/}/\nfi\n\n# Use swagger ui urls if more than one path or url with urls taking precedence\nif [ $max -gt 1 ]; then\n  urls_string=\"[\"\n  for ((i = 0; i \u003c $max; i++ )); do\n\n    # Use url if specified\n    if [[ ! -z ${OPENAPI_SPEC_URLS[$i]} \u0026\u0026 ${OPENAPI_SPEC_URLS[$i]} != \"\" ]]; then\n      urls_string+=\"{url: \\\"${OPENAPI_SPEC_URLS[$i]}\\\",  name: \\\"$(basename ${OPENAPI_SPEC_URLS[$i]})\\\"},\"\n    else\n      urls_string+=\"{url: \\\"/${bucket_key_without_file}$(basename ${OPENAPI_SPEC_PATHS[$i]})\\\",  name: \\\"$(basename ${OPENAPI_SPEC_PATHS[$i]})\\\"},\"\n    fi\n  done\n\n  urls_string=\"${urls_string%?}]\"\n  sed -i \"s@url:.*@urls: $urls_string,@\" $DIR_PATH/$SWAGGER_TARGET/dist/index.html\n\n# Use swagger ui\nelif [ ${#OPENAPI_SPEC_URLS[@]} -eq 1 ]; then\n  sed -i \"s@url:.*@url: \\\"${OPENAPI_SPEC_URLS[0]}\\\",@\" $DIR_PATH/$SWAGGER_TARGET/dist/index.html\n# Use swagger ui\nelif [ ${#OPENAPI_SPEC_PATHS[@]} -eq 1 ]; then\n  sed -i \"s@url:.*@url: \\\"/${bucket_key_without_file}$(basename ${OPENAPI_SPEC_PATHS[0]})\\\",@\" $DIR_PATH/$SWAGGER_TARGET/dist/index.html\nfi\n\naws s3 sync --profile $PROFILE --acl $ACL $DIR_PATH/$SWAGGER_TARGET/dist s3://$BUCKET_PATH\n\nfor path in ${OPENAPI_SPEC_PATHS[@]}; do\n  aws s3 cp --profile $PROFILE --acl $ACL $path s3://$BUCKET_PATH/$(basename $path)  \ndone\n\nrm -rf $DIR_PATH/$SWAGGER_TARGET.tar.gz\nrm -rf $DIR_PATH/$SWAGGER_TARGET\n",
            "template": "DIR_PATH=${path}\n\nACL=${acl}\nBUCKET_PATH=${bucket_path}\nOPENAPI_SPEC_PATHS=${openapi_spec_paths}\nOPENAPI_SPEC_URLS=${openapi_spec_urls}\nSWAGGER_UI_VERSION=${swagger_ui_version}\n\nPROFILE=${profile}\n\nWORK_DIR=tmp\nSWAGGER_TARGET=$WORK_DIR/$(basename $BUCKET_PATH)/$(dirname $BUCKET_PATH)/swagger-ui\n\nmkdir -p $DIR_PATH/$SWAGGER_TARGET\n\ncurl --silent -L https://github.com/swagger-api/swagger-ui/archive/$SWAGGER_UI_VERSION.tar.gz -o $DIR_PATH/$SWAGGER_TARGET.tar.gz\ntar --strip-components 1 -C $DIR_PATH/$SWAGGER_TARGET -xf $DIR_PATH/$SWAGGER_TARGET.tar.gz\n\n# Grab the count of the largest array\nif [ $${#OPENAPI_SPEC_PATHS[@]} -gt $${#OPENAPI_SPEC_URLS[@]} ]; then\n  max=$${#OPENAPI_SPEC_PATHS[@]}\nelse\n  max=$${#OPENAPI_SPEC_URLS[@]}\nfi\n\nbucket_key_without_file=\"/\"\nif [[ $BUCKET_PATH == *\"/\"* ]]; then\n  bucket_key_without_file=$${BUCKET_PATH#*/}/\nfi\n\n# Use swagger ui urls if more than one path or url with urls taking precedence\nif [ $max -gt 1 ]; then\n  urls_string=\"[\"\n  for ((i = 0; i \u003c $max; i++ )); do\n\n    # Use url if specified\n    if [[ ! -z $${OPENAPI_SPEC_URLS[$i]} \u0026\u0026 $${OPENAPI_SPEC_URLS[$i]} != \"\" ]]; then\n      urls_string+=\"{url: \\\"$${OPENAPI_SPEC_URLS[$i]}\\\",  name: \\\"$(basename $${OPENAPI_SPEC_URLS[$i]})\\\"},\"\n    else\n      urls_string+=\"{url: \\\"/$${bucket_key_without_file}$(basename $${OPENAPI_SPEC_PATHS[$i]})\\\",  name: \\\"$(basename $${OPENAPI_SPEC_PATHS[$i]})\\\"},\"\n    fi\n  done\n\n  urls_string=\"$${urls_string%?}]\"\n  sed -i \"s@url:.*@urls: $urls_string,@\" $DIR_PATH/$SWAGGER_TARGET/dist/index.html\n\n# Use swagger ui\nelif [ $${#OPENAPI_SPEC_URLS[@]} -eq 1 ]; then\n  sed -i \"s@url:.*@url: \\\"$${OPENAPI_SPEC_URLS[0]}\\\",@\" $DIR_PATH/$SWAGGER_TARGET/dist/index.html\n# Use swagger ui\nelif [ $${#OPENAPI_SPEC_PATHS[@]} -eq 1 ]; then\n  sed -i \"s@url:.*@url: \\\"/$${bucket_key_without_file}$(basename $${OPENAPI_SPEC_PATHS[0]})\\\",@\" $DIR_PATH/$SWAGGER_TARGET/dist/index.html\nfi\n\naws s3 sync --profile $PROFILE --acl $ACL $DIR_PATH/$SWAGGER_TARGET/dist s3://$BUCKET_PATH\n\nfor path in $${OPENAPI_SPEC_PATHS[@]}; do\n  aws s3 cp --profile $PROFILE --acl $ACL $path s3://$BUCKET_PATH/$(basename $path)  \ndone\n\nrm -rf $DIR_PATH/$SWAGGER_TARGET.tar.gz\nrm -rf $DIR_PATH/$SWAGGER_TARGET\n",
            "vars": {
              "acl": "private",
              "bucket_path": "blizzard-quotes-sc2-swagger",
              "openapi_spec_paths": "(/mnt/d/Workspace/tf-blizzard-quotes/specifications/sc2/v1.yml)",
              "openapi_spec_urls": "(https://swagger.sc2.blizzardquotes.com/v1.yml)",
              "path": ".terraform/modules/sc2_swagger_ui",
              "profile": "blizzard-quotes",
              "swagger_ui_version": "v3.38.0"
            }
          }
        }
      ]
    },
    {
      "module": "module.sc2_swagger_ui",
      "mode": "managed",
      "type": "null_resource",
      "name": "swagger",
      "provider": "provider[\"registry.terraform.io/hashicorp/null\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "5421765205723156059",
            "triggers": {
              "openapi_spec_paths_sha": "05664c76e4cb8dd2d0bbdeb4c8e25807c910258c",
              "openapi_spec_urls": "https://swagger.sc2.blizzardquotes.com/v1.yml",
              "provisioner_destroy_command": "BUCKET_PATH=blizzard-quotes-sc2-swagger\n\nPROFILE=blizzard-quotes\n\naws s3 rm --profile $PROFILE s3://$BUCKET_PATH --recursive --exclude \"*/*\"\n",
              "provisioner_interpreter": "/usr/bin/env bash -c",
              "s3_acl": "private",
              "s3_bucket_path": "blizzard-quotes-sc2-swagger",
              "swagger_ui_version": "v3.38.0"
            }
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.sc2_swagger.aws_s3_bucket.web",
            "module.sc2_swagger_ui.data.external.swagger_ui_latest_version",
            "module.sc2_swagger_ui.data.template_file.destroy_swagger_ui",
            "module.sc2_swagger_ui.data.template_file.install_swagger_ui"
          ]
        }
      ]
    },
    {
      "module": "module.sc_acm_dns_validation",
      "mode": "managed",
      "type": "aws_acm_certificate_validation",
      "name": "default",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "certificate_arn": "arn:aws:acm:us-east-1:597331215585:certificate/8ac02510-da05-4d49-a83e-1783242a1016",
            "id": "2019-12-21 01:10:00 +0000 UTC",
            "timeouts": null,
            "validation_record_fqdns": [
              "_27ce80f0287788b803e9a74bcb82e8aa.api.sc.blizzardquotes.com",
              "_2f3ecc4415aa683ebc66ac7673ac0be4.swagger.sc.blizzardquotes.com",
              "_977cb94ce9d7abcb93963ca8a75f9cb7.sc.blizzardquotes.com"
            ]
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoyNzAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "aws_acm_certificate.sc_quotes",
            "data.aws_route53_zone.blizzard_quotes",
            "module.sc_acm_dns_validation.aws_route53_record.dns_validation"
          ]
        }
      ]
    },
    {
      "module": "module.sc_acm_dns_validation",
      "mode": "managed",
      "type": "aws_route53_record",
      "name": "dns_validation",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": "*.api.sc.blizzardquotes.com",
          "schema_version": 2,
          "attributes": {
            "alias": [],
            "allow_overwrite": true,
            "failover_routing_policy": [],
            "fqdn": "_27ce80f0287788b803e9a74bcb82e8aa.api.sc.blizzardquotes.com",
            "geolocation_routing_policy": [],
            "health_check_id": "",
            "id": "Z2N8RQ0B2P27GZ__27ce80f0287788b803e9a74bcb82e8aa.api.sc.blizzardquotes.com._CNAME",
            "latency_routing_policy": [],
            "multivalue_answer_routing_policy": null,
            "name": "_27ce80f0287788b803e9a74bcb82e8aa.api.sc.blizzardquotes.com",
            "records": [
              "_fb1fa9f9d4216b74d3be53d1ffe3c2b8.mzlfeqexyx.acm-validations.aws."
            ],
            "set_identifier": "",
            "ttl": 60,
            "type": "CNAME",
            "weighted_routing_policy": [],
            "zone_id": "Z2N8RQ0B2P27GZ"
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "aws_acm_certificate.sc_quotes",
            "data.aws_route53_zone.blizzard_quotes"
          ]
        },
        {
          "index_key": "*.sc.blizzardquotes.com",
          "schema_version": 2,
          "attributes": {
            "alias": [],
            "allow_overwrite": true,
            "failover_routing_policy": [],
            "fqdn": "_977cb94ce9d7abcb93963ca8a75f9cb7.sc.blizzardquotes.com",
            "geolocation_routing_policy": [],
            "health_check_id": "",
            "id": "Z2N8RQ0B2P27GZ__977cb94ce9d7abcb93963ca8a75f9cb7.sc.blizzardquotes.com._CNAME",
            "latency_routing_policy": [],
            "multivalue_answer_routing_policy": null,
            "name": "_977cb94ce9d7abcb93963ca8a75f9cb7.sc.blizzardquotes.com",
            "records": [
              "_c6121e28c981ff6d5565da8e0f81b99c.mzlfeqexyx.acm-validations.aws."
            ],
            "set_identifier": "",
            "ttl": 60,
            "type": "CNAME",
            "weighted_routing_policy": [],
            "zone_id": "Z2N8RQ0B2P27GZ"
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "aws_acm_certificate.sc_quotes",
            "data.aws_route53_zone.blizzard_quotes"
          ]
        },
        {
          "index_key": "*.swagger.sc.blizzardquotes.com",
          "schema_version": 2,
          "attributes": {
            "alias": [],
            "allow_overwrite": true,
            "failover_routing_policy": [],
            "fqdn": "_2f3ecc4415aa683ebc66ac7673ac0be4.swagger.sc.blizzardquotes.com",
            "geolocation_routing_policy": [],
            "health_check_id": "",
            "id": "Z2N8RQ0B2P27GZ__2f3ecc4415aa683ebc66ac7673ac0be4.swagger.sc.blizzardquotes.com._CNAME",
            "latency_routing_policy": [],
            "multivalue_answer_routing_policy": null,
            "name": "_2f3ecc4415aa683ebc66ac7673ac0be4.swagger.sc.blizzardquotes.com",
            "records": [
              "_64c30b4d6159350ac4c8b127049f8228.mzlfeqexyx.acm-validations.aws."
            ],
            "set_identifier": "",
            "ttl": 60,
            "type": "CNAME",
            "weighted_routing_policy": [],
            "zone_id": "Z2N8RQ0B2P27GZ"
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "aws_acm_certificate.sc_quotes",
            "data.aws_route53_zone.blizzard_quotes"
          ]
        },
        {
          "index_key": "sc.blizzardquotes.com",
          "schema_version": 2,
          "attributes": {
            "alias": [],
            "allow_overwrite": true,
            "failover_routing_policy": [],
            "fqdn": "_977cb94ce9d7abcb93963ca8a75f9cb7.sc.blizzardquotes.com",
            "geolocation_routing_policy": [],
            "health_check_id": "",
            "id": "Z2N8RQ0B2P27GZ__977cb94ce9d7abcb93963ca8a75f9cb7.sc.blizzardquotes.com._CNAME",
            "latency_routing_policy": [],
            "multivalue_answer_routing_policy": null,
            "name": "_977cb94ce9d7abcb93963ca8a75f9cb7.sc.blizzardquotes.com",
            "records": [
              "_c6121e28c981ff6d5565da8e0f81b99c.mzlfeqexyx.acm-validations.aws."
            ],
            "set_identifier": "",
            "ttl": 60,
            "type": "CNAME",
            "weighted_routing_policy": [],
            "zone_id": "Z2N8RQ0B2P27GZ"
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "aws_acm_certificate.sc_quotes",
            "data.aws_route53_zone.blizzard_quotes"
          ]
        }
      ]
    },
    {
      "module": "module.sc_quotes_ui",
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "web",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "2384950117",
            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"SecureTransport\",\n      \"Effect\": \"Deny\",\n      \"Action\": \"*\",\n      \"Resource\": \"arn:aws:s3:::blizzard-quotes-sc-ui/*\",\n      \"Principal\": {\n        \"AWS\": \"*\"\n      },\n      \"Condition\": {\n        \"Bool\": {\n          \"aws:SecureTransport\": [\n            \"false\"\n          ]\n        }\n      }\n    },\n    {\n      \"Sid\": \"OriginAccessIdentityGet\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"s3:GetObject\",\n      \"Resource\": \"arn:aws:s3:::blizzard-quotes-sc-ui/*\",\n      \"Principal\": {\n        \"AWS\": \"arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity E2ZCOY0O9TZ9K0\"\n      }\n    },\n    {\n      \"Sid\": \"OriginAccessIdentityList\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"s3:ListBucket\",\n      \"Resource\": \"arn:aws:s3:::blizzard-quotes-sc-ui\",\n      \"Principal\": {\n        \"AWS\": \"arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity E2ZCOY0O9TZ9K0\"\n      }\n    }\n  ]\n}",
            "override_json": null,
            "policy_id": null,
            "source_json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"SecureTransport\",\n      \"Effect\": \"Deny\",\n      \"Action\": \"*\",\n      \"Resource\": \"arn:aws:s3:::blizzard-quotes-sc-ui/*\",\n      \"Principal\": {\n        \"AWS\": \"*\"\n      },\n      \"Condition\": {\n        \"Bool\": {\n          \"aws:SecureTransport\": \"false\"\n        }\n      }\n    }\n  ]\n}",
            "statement": [
              {
                "actions": [
                  "s3:GetObject"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [
                  {
                    "identifiers": [
                      "arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity E2ZCOY0O9TZ9K0"
                    ],
                    "type": "AWS"
                  }
                ],
                "resources": [
                  "arn:aws:s3:::blizzard-quotes-sc-ui/*"
                ],
                "sid": "OriginAccessIdentityGet"
              },
              {
                "actions": [
                  "s3:ListBucket"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [
                  {
                    "identifiers": [
                      "arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity E2ZCOY0O9TZ9K0"
                    ],
                    "type": "AWS"
                  }
                ],
                "resources": [
                  "arn:aws:s3:::blizzard-quotes-sc-ui"
                ],
                "sid": "OriginAccessIdentityList"
              }
            ],
            "version": "2012-10-17"
          }
        }
      ]
    },
    {
      "module": "module.sc_quotes_ui",
      "mode": "data",
      "type": "aws_route53_zone",
      "name": "quotes",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "caller_reference": "RISWorkflow-RD:abe34b1e-be1f-4ff5-8dbf-6912e57eff9a",
            "comment": "HostedZone created by Route53 Registrar",
            "id": "Z2N8RQ0B2P27GZ",
            "linked_service_description": null,
            "linked_service_principal": null,
            "name": "blizzardquotes.com",
            "name_servers": [
              "ns-1390.awsdns-45.org",
              "ns-693.awsdns-22.net",
              "ns-467.awsdns-58.com",
              "ns-1997.awsdns-57.co.uk"
            ],
            "private_zone": false,
            "resource_record_set_count": 39,
            "tags": {},
            "vpc_id": null,
            "zone_id": "Z2N8RQ0B2P27GZ"
          }
        }
      ]
    },
    {
      "module": "module.sc_quotes_ui",
      "mode": "managed",
      "type": "aws_cloudfront_distribution",
      "name": "web",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "aliases": [
              "sc.blizzardquotes.com"
            ],
            "arn": "arn:aws:cloudfront::597331215585:distribution/E1X8L120ZY2UV1",
            "caller_reference": "terraform-20191229055226459700000005",
            "comment": "CloudFront distribution for hosting sc.blizzardquotes.com",
            "custom_error_response": [
              {
                "error_caching_min_ttl": 5,
                "error_code": 404,
                "response_code": 200,
                "response_page_path": "/index.html"
              }
            ],
            "default_cache_behavior": [
              {
                "allowed_methods": [
                  "GET",
                  "HEAD",
                  "OPTIONS"
                ],
                "cached_methods": [
                  "GET",
                  "HEAD"
                ],
                "compress": false,
                "default_ttl": 3600,
                "field_level_encryption_id": "",
                "forwarded_values": [
                  {
                    "cookies": [
                      {
                        "forward": "none",
                        "whitelisted_names": []
                      }
                    ],
                    "headers": [],
                    "query_string": false,
                    "query_string_cache_keys": []
                  }
                ],
                "lambda_function_association": [],
                "max_ttl": 86400,
                "min_ttl": 0,
                "smooth_streaming": false,
                "target_origin_id": "blizzard-quotes-sc-ui",
                "trusted_signers": [],
                "viewer_protocol_policy": "redirect-to-https"
              }
            ],
            "default_root_object": "index.html",
            "domain_name": "d1t2t81gd7cv2p.cloudfront.net",
            "enabled": true,
            "etag": "E3IC3WQ9CK8NI7",
            "hosted_zone_id": "Z2FDTNDATAQYW2",
            "http_version": "http2",
            "id": "E1X8L120ZY2UV1",
            "in_progress_validation_batches": 0,
            "is_ipv6_enabled": true,
            "last_modified_time": "2019-12-29 05:51:55.259 +0000 UTC",
            "logging_config": [
              {
                "bucket": "blizzard-quotes-logs.s3.amazonaws.com",
                "include_cookies": false,
                "prefix": "cloud-front-sc-blizzardquotes-com-web/"
              }
            ],
            "ordered_cache_behavior": [],
            "origin": [
              {
                "custom_header": [],
                "custom_origin_config": [],
                "domain_name": "blizzard-quotes-sc-ui.s3.amazonaws.com",
                "origin_id": "blizzard-quotes-sc-ui",
                "origin_path": "",
                "s3_origin_config": [
                  {
                    "origin_access_identity": "origin-access-identity/cloudfront/E2ZCOY0O9TZ9K0"
                  }
                ]
              }
            ],
            "origin_group": [],
            "price_class": "PriceClass_100",
            "restrictions": [
              {
                "geo_restriction": [
                  {
                    "locations": [],
                    "restriction_type": "none"
                  }
                ]
              }
            ],
            "retain_on_delete": false,
            "status": "Deployed",
            "tags": {
              "Name": "sc.blizzardquotes.com",
              "Purpose": "CloudFront distribution for hosting sc.blizzardquotes.com"
            },
            "trusted_signers": [
              {
                "enabled": false,
                "items": []
              }
            ],
            "viewer_certificate": [
              {
                "acm_certificate_arn": "arn:aws:acm:us-east-1:597331215585:certificate/8ac02510-da05-4d49-a83e-1783242a1016",
                "cloudfront_default_certificate": false,
                "iam_certificate_id": "",
                "minimum_protocol_version": "TLSv1",
                "ssl_support_method": "sni-only"
              }
            ],
            "wait_for_deployment": true,
            "web_acl_id": ""
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "aws_acm_certificate.sc_quotes",
            "module.sc_quotes_ui.aws_cloudfront_origin_access_identity.web",
            "module.sc_quotes_ui.aws_s3_bucket.web"
          ]
        }
      ]
    },
    {
      "module": "module.sc_quotes_ui",
      "mode": "managed",
      "type": "aws_cloudfront_origin_access_identity",
      "name": "web",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "caller_reference": "terraform-20191229055224706700000003",
            "cloudfront_access_identity_path": "origin-access-identity/cloudfront/E2ZCOY0O9TZ9K0",
            "comment": "Origin Access Identity for sc.blizzardquotes.com",
            "etag": "E2WM7W8L2VQOA0",
            "iam_arn": "arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity E2ZCOY0O9TZ9K0",
            "id": "E2ZCOY0O9TZ9K0",
            "s3_canonical_user_id": "81e362b8e8038b57ddba6a064e316cd73e3175be40a9079e19ee9cb3f5f727e9fa1e033b0e33fd5da5493191048e5f5f"
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.sc_quotes_ui",
      "mode": "managed",
      "type": "aws_route53_record",
      "name": "quotes_zone_apex_cdn_alias",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "alias": [
              {
                "evaluate_target_health": false,
                "name": "d1t2t81gd7cv2p.cloudfront.net",
                "zone_id": "Z2FDTNDATAQYW2"
              }
            ],
            "allow_overwrite": null,
            "failover_routing_policy": [],
            "fqdn": "sc.blizzardquotes.com",
            "geolocation_routing_policy": [],
            "health_check_id": "",
            "id": "Z2N8RQ0B2P27GZ_sc.blizzardquotes.com_A",
            "latency_routing_policy": [],
            "multivalue_answer_routing_policy": null,
            "name": "sc.blizzardquotes.com",
            "records": [],
            "set_identifier": "",
            "ttl": 0,
            "type": "A",
            "weighted_routing_policy": [],
            "zone_id": "Z2N8RQ0B2P27GZ"
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "aws_acm_certificate.sc_quotes",
            "module.sc_quotes_ui.aws_cloudfront_distribution.web",
            "module.sc_quotes_ui.aws_cloudfront_origin_access_identity.web",
            "module.sc_quotes_ui.aws_s3_bucket.web"
          ]
        }
      ]
    },
    {
      "module": "module.sc_quotes_ui",
      "mode": "managed",
      "type": "aws_s3_bucket",
      "name": "web",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "acceleration_status": "",
            "acl": "private",
            "arn": "arn:aws:s3:::blizzard-quotes-sc-ui",
            "bucket": "blizzard-quotes-sc-ui",
            "bucket_domain_name": "blizzard-quotes-sc-ui.s3.amazonaws.com",
            "bucket_prefix": null,
            "bucket_regional_domain_name": "blizzard-quotes-sc-ui.s3.amazonaws.com",
            "cors_rule": [],
            "force_destroy": true,
            "grant": [],
            "hosted_zone_id": "Z3AQBSTGFYJSTF",
            "id": "blizzard-quotes-sc-ui",
            "lifecycle_rule": [],
            "logging": [
              {
                "target_bucket": "blizzard-quotes-logs",
                "target_prefix": "s3-access-logs-blizzard-quotes-sc-ui/"
              }
            ],
            "object_lock_configuration": [],
            "policy": null,
            "region": "us-east-1",
            "replication_configuration": [],
            "request_payer": "BucketOwner",
            "server_side_encryption_configuration": [
              {
                "rule": [
                  {
                    "apply_server_side_encryption_by_default": [
                      {
                        "kms_master_key_id": "",
                        "sse_algorithm": "AES256"
                      }
                    ]
                  }
                ]
              }
            ],
            "tags": {
              "Name": "blizzard-quotes-sc-ui",
              "Purpose": "Make sc.blizzardquotes.com available via CloudFront."
            },
            "versioning": [
              {
                "enabled": false,
                "mfa_delete": false
              }
            ],
            "website": [
              {
                "error_document": "index.html",
                "index_document": "index.html",
                "redirect_all_requests_to": "",
                "routing_rules": ""
              }
            ],
            "website_domain": "s3-website-us-east-1.amazonaws.com",
            "website_endpoint": "blizzard-quotes-sc-ui.s3-website-us-east-1.amazonaws.com"
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.sc_quotes_ui",
      "mode": "managed",
      "type": "aws_s3_bucket_policy",
      "name": "associate_policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "bucket": "blizzard-quotes-sc-ui",
            "id": "blizzard-quotes-sc-ui",
            "policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"SecureTransport\",\"Effect\":\"Deny\",\"Principal\":{\"AWS\":\"*\"},\"Action\":\"*\",\"Resource\":\"arn:aws:s3:::blizzard-quotes-sc-ui/*\",\"Condition\":{\"Bool\":{\"aws:SecureTransport\":\"false\"}}},{\"Sid\":\"OriginAccessIdentityGet\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity E2ZCOY0O9TZ9K0\"},\"Action\":\"s3:GetObject\",\"Resource\":\"arn:aws:s3:::blizzard-quotes-sc-ui/*\"},{\"Sid\":\"OriginAccessIdentityList\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity E2ZCOY0O9TZ9K0\"},\"Action\":\"s3:ListBucket\",\"Resource\":\"arn:aws:s3:::blizzard-quotes-sc-ui\"}]}"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.sc_quotes_ui.aws_cloudfront_origin_access_identity.web",
            "module.sc_quotes_ui.aws_s3_bucket.web"
          ]
        }
      ]
    },
    {
      "module": "module.sc_quotes_ui.module.secure_transport_policy",
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "s3_secure_transport_policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "3230758624",
            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"SecureTransport\",\n      \"Effect\": \"Deny\",\n      \"Action\": \"*\",\n      \"Resource\": \"arn:aws:s3:::blizzard-quotes-sc-ui/*\",\n      \"Principal\": {\n        \"AWS\": \"*\"\n      },\n      \"Condition\": {\n        \"Bool\": {\n          \"aws:SecureTransport\": \"false\"\n        }\n      }\n    }\n  ]\n}",
            "override_json": null,
            "policy_id": null,
            "source_json": null,
            "statement": [
              {
                "actions": [
                  "*"
                ],
                "condition": [
                  {
                    "test": "Bool",
                    "values": [
                      "false"
                    ],
                    "variable": "aws:SecureTransport"
                  }
                ],
                "effect": "Deny",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [
                  {
                    "identifiers": [
                      "*"
                    ],
                    "type": "AWS"
                  }
                ],
                "resources": [
                  "arn:aws:s3:::blizzard-quotes-sc-ui/*"
                ],
                "sid": "SecureTransport"
              }
            ],
            "version": "2012-10-17"
          }
        }
      ]
    },
    {
      "module": "module.sc_quotes_ui.module.secure_transport_policy_logs",
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "s3_secure_transport_policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "1333758273",
            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"SecureTransport\",\n      \"Effect\": \"Deny\",\n      \"Action\": \"*\",\n      \"Resource\": \"arn:aws:s3:::blizzard-quotes-logs/*\",\n      \"Principal\": {\n        \"AWS\": \"*\"\n      },\n      \"Condition\": {\n        \"Bool\": {\n          \"aws:SecureTransport\": \"false\"\n        }\n      }\n    }\n  ]\n}",
            "override_json": null,
            "policy_id": null,
            "source_json": null,
            "statement": [
              {
                "actions": [
                  "*"
                ],
                "condition": [
                  {
                    "test": "Bool",
                    "values": [
                      "false"
                    ],
                    "variable": "aws:SecureTransport"
                  }
                ],
                "effect": "Deny",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [
                  {
                    "identifiers": [
                      "*"
                    ],
                    "type": "AWS"
                  }
                ],
                "resources": [
                  "arn:aws:s3:::blizzard-quotes-logs/*"
                ],
                "sid": "SecureTransport"
              }
            ],
            "version": "2012-10-17"
          }
        }
      ]
    },
    {
      "module": "module.sc_swagger",
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "web",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "264857196",
            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"SecureTransport\",\n      \"Effect\": \"Deny\",\n      \"Action\": \"*\",\n      \"Resource\": \"arn:aws:s3:::blizzard-quotes-sc-swagger/*\",\n      \"Principal\": {\n        \"AWS\": \"*\"\n      },\n      \"Condition\": {\n        \"Bool\": {\n          \"aws:SecureTransport\": [\n            \"false\"\n          ]\n        }\n      }\n    },\n    {\n      \"Sid\": \"OriginAccessIdentityGet\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"s3:GetObject\",\n      \"Resource\": \"arn:aws:s3:::blizzard-quotes-sc-swagger/*\",\n      \"Principal\": {\n        \"AWS\": \"arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity E3GVY94DJN34AC\"\n      }\n    },\n    {\n      \"Sid\": \"OriginAccessIdentityList\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"s3:ListBucket\",\n      \"Resource\": \"arn:aws:s3:::blizzard-quotes-sc-swagger\",\n      \"Principal\": {\n        \"AWS\": \"arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity E3GVY94DJN34AC\"\n      }\n    }\n  ]\n}",
            "override_json": null,
            "policy_id": null,
            "source_json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"SecureTransport\",\n      \"Effect\": \"Deny\",\n      \"Action\": \"*\",\n      \"Resource\": \"arn:aws:s3:::blizzard-quotes-sc-swagger/*\",\n      \"Principal\": {\n        \"AWS\": \"*\"\n      },\n      \"Condition\": {\n        \"Bool\": {\n          \"aws:SecureTransport\": \"false\"\n        }\n      }\n    }\n  ]\n}",
            "statement": [
              {
                "actions": [
                  "s3:GetObject"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [
                  {
                    "identifiers": [
                      "arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity E3GVY94DJN34AC"
                    ],
                    "type": "AWS"
                  }
                ],
                "resources": [
                  "arn:aws:s3:::blizzard-quotes-sc-swagger/*"
                ],
                "sid": "OriginAccessIdentityGet"
              },
              {
                "actions": [
                  "s3:ListBucket"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [
                  {
                    "identifiers": [
                      "arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity E3GVY94DJN34AC"
                    ],
                    "type": "AWS"
                  }
                ],
                "resources": [
                  "arn:aws:s3:::blizzard-quotes-sc-swagger"
                ],
                "sid": "OriginAccessIdentityList"
              }
            ],
            "version": "2012-10-17"
          }
        }
      ]
    },
    {
      "module": "module.sc_swagger",
      "mode": "data",
      "type": "aws_route53_zone",
      "name": "quotes",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "caller_reference": "RISWorkflow-RD:abe34b1e-be1f-4ff5-8dbf-6912e57eff9a",
            "comment": "HostedZone created by Route53 Registrar",
            "id": "Z2N8RQ0B2P27GZ",
            "linked_service_description": null,
            "linked_service_principal": null,
            "name": "blizzardquotes.com",
            "name_servers": [
              "ns-1390.awsdns-45.org",
              "ns-693.awsdns-22.net",
              "ns-467.awsdns-58.com",
              "ns-1997.awsdns-57.co.uk"
            ],
            "private_zone": false,
            "resource_record_set_count": 39,
            "tags": {},
            "vpc_id": null,
            "zone_id": "Z2N8RQ0B2P27GZ"
          }
        }
      ]
    },
    {
      "module": "module.sc_swagger",
      "mode": "managed",
      "type": "aws_cloudfront_distribution",
      "name": "web",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "aliases": [
              "swagger.sc.blizzardquotes.com"
            ],
            "arn": "arn:aws:cloudfront::597331215585:distribution/EKBD09317M7MI",
            "caller_reference": "terraform-20191226231513079900000006",
            "comment": "CloudFront distribution for hosting swagger.sc.blizzardquotes.com",
            "custom_error_response": [
              {
                "error_caching_min_ttl": 5,
                "error_code": 404,
                "response_code": 200,
                "response_page_path": "/index.html"
              }
            ],
            "default_cache_behavior": [
              {
                "allowed_methods": [
                  "GET",
                  "HEAD",
                  "OPTIONS"
                ],
                "cached_methods": [
                  "GET",
                  "HEAD"
                ],
                "compress": false,
                "default_ttl": 3600,
                "field_level_encryption_id": "",
                "forwarded_values": [
                  {
                    "cookies": [
                      {
                        "forward": "none",
                        "whitelisted_names": []
                      }
                    ],
                    "headers": [],
                    "query_string": false,
                    "query_string_cache_keys": []
                  }
                ],
                "lambda_function_association": [],
                "max_ttl": 86400,
                "min_ttl": 0,
                "smooth_streaming": false,
                "target_origin_id": "blizzard-quotes-sc-swagger",
                "trusted_signers": [],
                "viewer_protocol_policy": "redirect-to-https"
              }
            ],
            "default_root_object": "index.html",
            "domain_name": "d222bq23farvdc.cloudfront.net",
            "enabled": true,
            "etag": "EWJ0V4O6UX5CL",
            "hosted_zone_id": "Z2FDTNDATAQYW2",
            "http_version": "http2",
            "id": "EKBD09317M7MI",
            "in_progress_validation_batches": 0,
            "is_ipv6_enabled": true,
            "last_modified_time": "2019-12-26 23:14:53.064 +0000 UTC",
            "logging_config": [
              {
                "bucket": "blizzard-quotes-logs.s3.amazonaws.com",
                "include_cookies": false,
                "prefix": "cloud-front-swagger-sc-blizzardquotes-com-web/"
              }
            ],
            "ordered_cache_behavior": [],
            "origin": [
              {
                "custom_header": [],
                "custom_origin_config": [],
                "domain_name": "blizzard-quotes-sc-swagger.s3.amazonaws.com",
                "origin_id": "blizzard-quotes-sc-swagger",
                "origin_path": "",
                "s3_origin_config": [
                  {
                    "origin_access_identity": "origin-access-identity/cloudfront/E3GVY94DJN34AC"
                  }
                ]
              }
            ],
            "origin_group": [],
            "price_class": "PriceClass_100",
            "restrictions": [
              {
                "geo_restriction": [
                  {
                    "locations": [],
                    "restriction_type": "none"
                  }
                ]
              }
            ],
            "retain_on_delete": false,
            "status": "Deployed",
            "tags": {
              "Name": "swagger.sc.blizzardquotes.com",
              "Purpose": "CloudFront distribution for hosting swagger.sc.blizzardquotes.com"
            },
            "trusted_signers": [
              {
                "enabled": false,
                "items": []
              }
            ],
            "viewer_certificate": [
              {
                "acm_certificate_arn": "arn:aws:acm:us-east-1:597331215585:certificate/8ac02510-da05-4d49-a83e-1783242a1016",
                "cloudfront_default_certificate": false,
                "iam_certificate_id": "",
                "minimum_protocol_version": "TLSv1",
                "ssl_support_method": "sni-only"
              }
            ],
            "wait_for_deployment": true,
            "web_acl_id": ""
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "aws_acm_certificate.sc_quotes",
            "module.sc_swagger.aws_cloudfront_origin_access_identity.web",
            "module.sc_swagger.aws_s3_bucket.web"
          ]
        }
      ]
    },
    {
      "module": "module.sc_swagger",
      "mode": "managed",
      "type": "aws_cloudfront_origin_access_identity",
      "name": "web",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "caller_reference": "terraform-20191226231510885900000002",
            "cloudfront_access_identity_path": "origin-access-identity/cloudfront/E3GVY94DJN34AC",
            "comment": "Origin Access Identity for swagger.sc.blizzardquotes.com",
            "etag": "E398WISY8V0EOY",
            "iam_arn": "arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity E3GVY94DJN34AC",
            "id": "E3GVY94DJN34AC",
            "s3_canonical_user_id": "baa1ff7453bcfc4871247ae310c1d62b982e82ee81c99ce4824abe0bb654f527d3226b5a71af3a8045def831382c350f"
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.sc_swagger",
      "mode": "managed",
      "type": "aws_route53_record",
      "name": "quotes_zone_apex_cdn_alias",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "alias": [
              {
                "evaluate_target_health": false,
                "name": "d222bq23farvdc.cloudfront.net",
                "zone_id": "Z2FDTNDATAQYW2"
              }
            ],
            "allow_overwrite": null,
            "failover_routing_policy": [],
            "fqdn": "swagger.sc.blizzardquotes.com",
            "geolocation_routing_policy": [],
            "health_check_id": "",
            "id": "Z2N8RQ0B2P27GZ_swagger.sc.blizzardquotes.com_A",
            "latency_routing_policy": [],
            "multivalue_answer_routing_policy": null,
            "name": "swagger.sc.blizzardquotes.com",
            "records": [],
            "set_identifier": "",
            "ttl": 0,
            "type": "A",
            "weighted_routing_policy": [],
            "zone_id": "Z2N8RQ0B2P27GZ"
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "aws_acm_certificate.sc_quotes",
            "module.sc_swagger.aws_cloudfront_distribution.web",
            "module.sc_swagger.aws_cloudfront_origin_access_identity.web",
            "module.sc_swagger.aws_s3_bucket.web"
          ]
        }
      ]
    },
    {
      "module": "module.sc_swagger",
      "mode": "managed",
      "type": "aws_s3_bucket",
      "name": "web",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "acceleration_status": "",
            "acl": "private",
            "arn": "arn:aws:s3:::blizzard-quotes-sc-swagger",
            "bucket": "blizzard-quotes-sc-swagger",
            "bucket_domain_name": "blizzard-quotes-sc-swagger.s3.amazonaws.com",
            "bucket_prefix": null,
            "bucket_regional_domain_name": "blizzard-quotes-sc-swagger.s3.amazonaws.com",
            "cors_rule": [],
            "force_destroy": true,
            "grant": [],
            "hosted_zone_id": "Z3AQBSTGFYJSTF",
            "id": "blizzard-quotes-sc-swagger",
            "lifecycle_rule": [],
            "logging": [
              {
                "target_bucket": "blizzard-quotes-logs",
                "target_prefix": "s3-access-logs-blizzard-quotes-sc-swagger/"
              }
            ],
            "object_lock_configuration": [],
            "policy": null,
            "region": "us-east-1",
            "replication_configuration": [],
            "request_payer": "BucketOwner",
            "server_side_encryption_configuration": [
              {
                "rule": [
                  {
                    "apply_server_side_encryption_by_default": [
                      {
                        "kms_master_key_id": "",
                        "sse_algorithm": "AES256"
                      }
                    ]
                  }
                ]
              }
            ],
            "tags": {
              "Name": "blizzard-quotes-sc-swagger",
              "Purpose": "Make swagger.sc.blizzardquotes.com available via CloudFront."
            },
            "versioning": [
              {
                "enabled": false,
                "mfa_delete": false
              }
            ],
            "website": [
              {
                "error_document": "index.html",
                "index_document": "index.html",
                "redirect_all_requests_to": "",
                "routing_rules": ""
              }
            ],
            "website_domain": "s3-website-us-east-1.amazonaws.com",
            "website_endpoint": "blizzard-quotes-sc-swagger.s3-website-us-east-1.amazonaws.com"
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.sc_swagger",
      "mode": "managed",
      "type": "aws_s3_bucket_policy",
      "name": "associate_policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "bucket": "blizzard-quotes-sc-swagger",
            "id": "blizzard-quotes-sc-swagger",
            "policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"SecureTransport\",\"Effect\":\"Deny\",\"Principal\":{\"AWS\":\"*\"},\"Action\":\"*\",\"Resource\":\"arn:aws:s3:::blizzard-quotes-sc-swagger/*\",\"Condition\":{\"Bool\":{\"aws:SecureTransport\":\"false\"}}},{\"Sid\":\"OriginAccessIdentityGet\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity E3GVY94DJN34AC\"},\"Action\":\"s3:GetObject\",\"Resource\":\"arn:aws:s3:::blizzard-quotes-sc-swagger/*\"},{\"Sid\":\"OriginAccessIdentityList\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity E3GVY94DJN34AC\"},\"Action\":\"s3:ListBucket\",\"Resource\":\"arn:aws:s3:::blizzard-quotes-sc-swagger\"}]}"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.sc_swagger.aws_cloudfront_origin_access_identity.web",
            "module.sc_swagger.aws_s3_bucket.web"
          ]
        }
      ]
    },
    {
      "module": "module.sc_swagger.module.secure_transport_policy",
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "s3_secure_transport_policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "1436119354",
            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"SecureTransport\",\n      \"Effect\": \"Deny\",\n      \"Action\": \"*\",\n      \"Resource\": \"arn:aws:s3:::blizzard-quotes-sc-swagger/*\",\n      \"Principal\": {\n        \"AWS\": \"*\"\n      },\n      \"Condition\": {\n        \"Bool\": {\n          \"aws:SecureTransport\": \"false\"\n        }\n      }\n    }\n  ]\n}",
            "override_json": null,
            "policy_id": null,
            "source_json": null,
            "statement": [
              {
                "actions": [
                  "*"
                ],
                "condition": [
                  {
                    "test": "Bool",
                    "values": [
                      "false"
                    ],
                    "variable": "aws:SecureTransport"
                  }
                ],
                "effect": "Deny",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [
                  {
                    "identifiers": [
                      "*"
                    ],
                    "type": "AWS"
                  }
                ],
                "resources": [
                  "arn:aws:s3:::blizzard-quotes-sc-swagger/*"
                ],
                "sid": "SecureTransport"
              }
            ],
            "version": "2012-10-17"
          }
        }
      ]
    },
    {
      "module": "module.sc_swagger.module.secure_transport_policy_logs",
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "s3_secure_transport_policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "1333758273",
            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"SecureTransport\",\n      \"Effect\": \"Deny\",\n      \"Action\": \"*\",\n      \"Resource\": \"arn:aws:s3:::blizzard-quotes-logs/*\",\n      \"Principal\": {\n        \"AWS\": \"*\"\n      },\n      \"Condition\": {\n        \"Bool\": {\n          \"aws:SecureTransport\": \"false\"\n        }\n      }\n    }\n  ]\n}",
            "override_json": null,
            "policy_id": null,
            "source_json": null,
            "statement": [
              {
                "actions": [
                  "*"
                ],
                "condition": [
                  {
                    "test": "Bool",
                    "values": [
                      "false"
                    ],
                    "variable": "aws:SecureTransport"
                  }
                ],
                "effect": "Deny",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [
                  {
                    "identifiers": [
                      "*"
                    ],
                    "type": "AWS"
                  }
                ],
                "resources": [
                  "arn:aws:s3:::blizzard-quotes-logs/*"
                ],
                "sid": "SecureTransport"
              }
            ],
            "version": "2012-10-17"
          }
        }
      ]
    },
    {
      "module": "module.sc_swagger_ui",
      "mode": "data",
      "type": "external",
      "name": "swagger_ui_latest_version",
      "provider": "provider[\"registry.terraform.io/hashicorp/external\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "-",
            "program": [
              "bash",
              ".terraform/modules/sc_swagger_ui/scripts/latest-version.sh"
            ],
            "query": null,
            "result": {
              "version": "v3.38.0"
            },
            "working_dir": null
          }
        }
      ]
    },
    {
      "module": "module.sc_swagger_ui",
      "mode": "data",
      "type": "template_file",
      "name": "destroy_swagger_ui",
      "provider": "provider[\"registry.terraform.io/hashicorp/template\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "filename": null,
            "id": "fef4edd87c9b6a7a2f6e10c64bb5990e94c5cca6c8ebc887a15ea4bea039d12b",
            "rendered": "BUCKET_PATH=blizzard-quotes-sc-swagger\n\nPROFILE=blizzard-quotes\n\naws s3 rm --profile $PROFILE s3://$BUCKET_PATH --recursive --exclude \"*/*\"\n",
            "template": "BUCKET_PATH=${bucket_path}\n\nPROFILE=${profile}\n\naws s3 rm --profile $PROFILE s3://$BUCKET_PATH --recursive --exclude \"*/*\"\n",
            "vars": {
              "bucket_path": "blizzard-quotes-sc-swagger",
              "profile": "blizzard-quotes"
            }
          }
        }
      ]
    },
    {
      "module": "module.sc_swagger_ui",
      "mode": "data",
      "type": "template_file",
      "name": "install_swagger_ui",
      "provider": "provider[\"registry.terraform.io/hashicorp/template\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "filename": null,
            "id": "5707d370387a5e6687df1e92940de3434a8897ae982a07a415c152ee4c9d52a0",
            "rendered": "DIR_PATH=.terraform/modules/sc_swagger_ui\n\nACL=private\nBUCKET_PATH=blizzard-quotes-sc-swagger\nOPENAPI_SPEC_PATHS=(/mnt/d/Workspace/tf-blizzard-quotes/specifications/sc/v1.yml)\nOPENAPI_SPEC_URLS=(https://swagger.sc.blizzardquotes.com/v1.yml)\nSWAGGER_UI_VERSION=v3.38.0\n\nPROFILE=blizzard-quotes\n\nWORK_DIR=tmp\nSWAGGER_TARGET=$WORK_DIR/$(basename $BUCKET_PATH)/$(dirname $BUCKET_PATH)/swagger-ui\n\nmkdir -p $DIR_PATH/$SWAGGER_TARGET\n\ncurl --silent -L https://github.com/swagger-api/swagger-ui/archive/$SWAGGER_UI_VERSION.tar.gz -o $DIR_PATH/$SWAGGER_TARGET.tar.gz\ntar --strip-components 1 -C $DIR_PATH/$SWAGGER_TARGET -xf $DIR_PATH/$SWAGGER_TARGET.tar.gz\n\n# Grab the count of the largest array\nif [ ${#OPENAPI_SPEC_PATHS[@]} -gt ${#OPENAPI_SPEC_URLS[@]} ]; then\n  max=${#OPENAPI_SPEC_PATHS[@]}\nelse\n  max=${#OPENAPI_SPEC_URLS[@]}\nfi\n\nbucket_key_without_file=\"/\"\nif [[ $BUCKET_PATH == *\"/\"* ]]; then\n  bucket_key_without_file=${BUCKET_PATH#*/}/\nfi\n\n# Use swagger ui urls if more than one path or url with urls taking precedence\nif [ $max -gt 1 ]; then\n  urls_string=\"[\"\n  for ((i = 0; i \u003c $max; i++ )); do\n\n    # Use url if specified\n    if [[ ! -z ${OPENAPI_SPEC_URLS[$i]} \u0026\u0026 ${OPENAPI_SPEC_URLS[$i]} != \"\" ]]; then\n      urls_string+=\"{url: \\\"${OPENAPI_SPEC_URLS[$i]}\\\",  name: \\\"$(basename ${OPENAPI_SPEC_URLS[$i]})\\\"},\"\n    else\n      urls_string+=\"{url: \\\"/${bucket_key_without_file}$(basename ${OPENAPI_SPEC_PATHS[$i]})\\\",  name: \\\"$(basename ${OPENAPI_SPEC_PATHS[$i]})\\\"},\"\n    fi\n  done\n\n  urls_string=\"${urls_string%?}]\"\n  sed -i \"s@url:.*@urls: $urls_string,@\" $DIR_PATH/$SWAGGER_TARGET/dist/index.html\n\n# Use swagger ui\nelif [ ${#OPENAPI_SPEC_URLS[@]} -eq 1 ]; then\n  sed -i \"s@url:.*@url: \\\"${OPENAPI_SPEC_URLS[0]}\\\",@\" $DIR_PATH/$SWAGGER_TARGET/dist/index.html\n# Use swagger ui\nelif [ ${#OPENAPI_SPEC_PATHS[@]} -eq 1 ]; then\n  sed -i \"s@url:.*@url: \\\"/${bucket_key_without_file}$(basename ${OPENAPI_SPEC_PATHS[0]})\\\",@\" $DIR_PATH/$SWAGGER_TARGET/dist/index.html\nfi\n\naws s3 sync --profile $PROFILE --acl $ACL $DIR_PATH/$SWAGGER_TARGET/dist s3://$BUCKET_PATH\n\nfor path in ${OPENAPI_SPEC_PATHS[@]}; do\n  aws s3 cp --profile $PROFILE --acl $ACL $path s3://$BUCKET_PATH/$(basename $path)  \ndone\n\nrm -rf $DIR_PATH/$SWAGGER_TARGET.tar.gz\nrm -rf $DIR_PATH/$SWAGGER_TARGET\n",
            "template": "DIR_PATH=${path}\n\nACL=${acl}\nBUCKET_PATH=${bucket_path}\nOPENAPI_SPEC_PATHS=${openapi_spec_paths}\nOPENAPI_SPEC_URLS=${openapi_spec_urls}\nSWAGGER_UI_VERSION=${swagger_ui_version}\n\nPROFILE=${profile}\n\nWORK_DIR=tmp\nSWAGGER_TARGET=$WORK_DIR/$(basename $BUCKET_PATH)/$(dirname $BUCKET_PATH)/swagger-ui\n\nmkdir -p $DIR_PATH/$SWAGGER_TARGET\n\ncurl --silent -L https://github.com/swagger-api/swagger-ui/archive/$SWAGGER_UI_VERSION.tar.gz -o $DIR_PATH/$SWAGGER_TARGET.tar.gz\ntar --strip-components 1 -C $DIR_PATH/$SWAGGER_TARGET -xf $DIR_PATH/$SWAGGER_TARGET.tar.gz\n\n# Grab the count of the largest array\nif [ $${#OPENAPI_SPEC_PATHS[@]} -gt $${#OPENAPI_SPEC_URLS[@]} ]; then\n  max=$${#OPENAPI_SPEC_PATHS[@]}\nelse\n  max=$${#OPENAPI_SPEC_URLS[@]}\nfi\n\nbucket_key_without_file=\"/\"\nif [[ $BUCKET_PATH == *\"/\"* ]]; then\n  bucket_key_without_file=$${BUCKET_PATH#*/}/\nfi\n\n# Use swagger ui urls if more than one path or url with urls taking precedence\nif [ $max -gt 1 ]; then\n  urls_string=\"[\"\n  for ((i = 0; i \u003c $max; i++ )); do\n\n    # Use url if specified\n    if [[ ! -z $${OPENAPI_SPEC_URLS[$i]} \u0026\u0026 $${OPENAPI_SPEC_URLS[$i]} != \"\" ]]; then\n      urls_string+=\"{url: \\\"$${OPENAPI_SPEC_URLS[$i]}\\\",  name: \\\"$(basename $${OPENAPI_SPEC_URLS[$i]})\\\"},\"\n    else\n      urls_string+=\"{url: \\\"/$${bucket_key_without_file}$(basename $${OPENAPI_SPEC_PATHS[$i]})\\\",  name: \\\"$(basename $${OPENAPI_SPEC_PATHS[$i]})\\\"},\"\n    fi\n  done\n\n  urls_string=\"$${urls_string%?}]\"\n  sed -i \"s@url:.*@urls: $urls_string,@\" $DIR_PATH/$SWAGGER_TARGET/dist/index.html\n\n# Use swagger ui\nelif [ $${#OPENAPI_SPEC_URLS[@]} -eq 1 ]; then\n  sed -i \"s@url:.*@url: \\\"$${OPENAPI_SPEC_URLS[0]}\\\",@\" $DIR_PATH/$SWAGGER_TARGET/dist/index.html\n# Use swagger ui\nelif [ $${#OPENAPI_SPEC_PATHS[@]} -eq 1 ]; then\n  sed -i \"s@url:.*@url: \\\"/$${bucket_key_without_file}$(basename $${OPENAPI_SPEC_PATHS[0]})\\\",@\" $DIR_PATH/$SWAGGER_TARGET/dist/index.html\nfi\n\naws s3 sync --profile $PROFILE --acl $ACL $DIR_PATH/$SWAGGER_TARGET/dist s3://$BUCKET_PATH\n\nfor path in $${OPENAPI_SPEC_PATHS[@]}; do\n  aws s3 cp --profile $PROFILE --acl $ACL $path s3://$BUCKET_PATH/$(basename $path)  \ndone\n\nrm -rf $DIR_PATH/$SWAGGER_TARGET.tar.gz\nrm -rf $DIR_PATH/$SWAGGER_TARGET\n",
            "vars": {
              "acl": "private",
              "bucket_path": "blizzard-quotes-sc-swagger",
              "openapi_spec_paths": "(/mnt/d/Workspace/tf-blizzard-quotes/specifications/sc/v1.yml)",
              "openapi_spec_urls": "(https://swagger.sc.blizzardquotes.com/v1.yml)",
              "path": ".terraform/modules/sc_swagger_ui",
              "profile": "blizzard-quotes",
              "swagger_ui_version": "v3.38.0"
            }
          }
        }
      ]
    },
    {
      "module": "module.sc_swagger_ui",
      "mode": "managed",
      "type": "null_resource",
      "name": "swagger",
      "provider": "provider[\"registry.terraform.io/hashicorp/null\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "6934745937792937247",
            "triggers": {
              "openapi_spec_paths_sha": "3726b4ae302a9a5f7599a99c9a98249a1d269203",
              "openapi_spec_urls": "https://swagger.sc.blizzardquotes.com/v1.yml",
              "provisioner_destroy_command": "BUCKET_PATH=blizzard-quotes-sc-swagger\n\nPROFILE=blizzard-quotes\n\naws s3 rm --profile $PROFILE s3://$BUCKET_PATH --recursive --exclude \"*/*\"\n",
              "provisioner_interpreter": "/usr/bin/env bash -c",
              "s3_acl": "private",
              "s3_bucket_path": "blizzard-quotes-sc-swagger",
              "swagger_ui_version": "v3.38.0"
            }
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.sc_swagger.aws_s3_bucket.web",
            "module.sc_swagger_ui.data.external.swagger_ui_latest_version",
            "module.sc_swagger_ui.data.template_file.destroy_swagger_ui",
            "module.sc_swagger_ui.data.template_file.install_swagger_ui"
          ]
        }
      ]
    },
    {
      "module": "module.secure_transport_policy_logs",
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "s3_secure_transport_policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "1333758273",
            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"SecureTransport\",\n      \"Effect\": \"Deny\",\n      \"Action\": \"*\",\n      \"Resource\": \"arn:aws:s3:::blizzard-quotes-logs/*\",\n      \"Principal\": {\n        \"AWS\": \"*\"\n      },\n      \"Condition\": {\n        \"Bool\": {\n          \"aws:SecureTransport\": \"false\"\n        }\n      }\n    }\n  ]\n}",
            "override_json": null,
            "policy_id": null,
            "source_json": null,
            "statement": [
              {
                "actions": [
                  "*"
                ],
                "condition": [
                  {
                    "test": "Bool",
                    "values": [
                      "false"
                    ],
                    "variable": "aws:SecureTransport"
                  }
                ],
                "effect": "Deny",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [
                  {
                    "identifiers": [
                      "*"
                    ],
                    "type": "AWS"
                  }
                ],
                "resources": [
                  "arn:aws:s3:::blizzard-quotes-logs/*"
                ],
                "sid": "SecureTransport"
              }
            ],
            "version": "2012-10-17"
          }
        }
      ]
    },
    {
      "module": "module.wc3_acm_dns_validation",
      "mode": "managed",
      "type": "aws_acm_certificate_validation",
      "name": "default",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "certificate_arn": "arn:aws:acm:us-east-1:597331215585:certificate/97e01166-ce9a-4b1a-9e32-04c5a4fbab9a",
            "id": "2020-12-03 00:15:39 +0000 UTC",
            "timeouts": null,
            "validation_record_fqdns": [
              "_7a308506ce4c4e55248bb4596816fdbc.swagger.wc3.blizzardquotes.com",
              "_86ea9f43c57835f0d0a4994964e02673.wc3.blizzardquotes.com",
              "_a1fb593fd2502ebdb6ff3059c3bbb946.api.wc3.blizzardquotes.com"
            ]
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoyNzAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "aws_acm_certificate.wc3_quotes",
            "data.aws_route53_zone.blizzard_quotes",
            "module.wc3_acm_dns_validation.aws_route53_record.dns_validation"
          ]
        }
      ]
    },
    {
      "module": "module.wc3_acm_dns_validation",
      "mode": "managed",
      "type": "aws_route53_record",
      "name": "dns_validation",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": "*.api.wc3.blizzardquotes.com",
          "schema_version": 2,
          "attributes": {
            "alias": [],
            "allow_overwrite": true,
            "failover_routing_policy": [],
            "fqdn": "_a1fb593fd2502ebdb6ff3059c3bbb946.api.wc3.blizzardquotes.com",
            "geolocation_routing_policy": [],
            "health_check_id": "",
            "id": "Z2N8RQ0B2P27GZ__a1fb593fd2502ebdb6ff3059c3bbb946.api.wc3.blizzardquotes.com._CNAME",
            "latency_routing_policy": [],
            "multivalue_answer_routing_policy": null,
            "name": "_a1fb593fd2502ebdb6ff3059c3bbb946.api.wc3.blizzardquotes.com",
            "records": [
              "_6e1d5ac9add86d04f92bb8af3bb2e166.olprtlswtu.acm-validations.aws."
            ],
            "set_identifier": "",
            "ttl": 60,
            "type": "CNAME",
            "weighted_routing_policy": [],
            "zone_id": "Z2N8RQ0B2P27GZ"
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "aws_acm_certificate.wc3_quotes",
            "data.aws_route53_zone.blizzard_quotes"
          ]
        },
        {
          "index_key": "*.swagger.wc3.blizzardquotes.com",
          "schema_version": 2,
          "attributes": {
            "alias": [],
            "allow_overwrite": true,
            "failover_routing_policy": [],
            "fqdn": "_7a308506ce4c4e55248bb4596816fdbc.swagger.wc3.blizzardquotes.com",
            "geolocation_routing_policy": [],
            "health_check_id": "",
            "id": "Z2N8RQ0B2P27GZ__7a308506ce4c4e55248bb4596816fdbc.swagger.wc3.blizzardquotes.com._CNAME",
            "latency_routing_policy": [],
            "multivalue_answer_routing_policy": null,
            "name": "_7a308506ce4c4e55248bb4596816fdbc.swagger.wc3.blizzardquotes.com",
            "records": [
              "_ccf48c91d5e606cbc8e6c6ca620a1b9f.olprtlswtu.acm-validations.aws."
            ],
            "set_identifier": "",
            "ttl": 60,
            "type": "CNAME",
            "weighted_routing_policy": [],
            "zone_id": "Z2N8RQ0B2P27GZ"
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "aws_acm_certificate.wc3_quotes",
            "data.aws_route53_zone.blizzard_quotes"
          ]
        },
        {
          "index_key": "*.wc3.blizzardquotes.com",
          "schema_version": 2,
          "attributes": {
            "alias": [],
            "allow_overwrite": true,
            "failover_routing_policy": [],
            "fqdn": "_86ea9f43c57835f0d0a4994964e02673.wc3.blizzardquotes.com",
            "geolocation_routing_policy": [],
            "health_check_id": "",
            "id": "Z2N8RQ0B2P27GZ__86ea9f43c57835f0d0a4994964e02673.wc3.blizzardquotes.com._CNAME",
            "latency_routing_policy": [],
            "multivalue_answer_routing_policy": null,
            "name": "_86ea9f43c57835f0d0a4994964e02673.wc3.blizzardquotes.com",
            "records": [
              "_25b007db16b6a6298ade6ba818ed3106.olprtlswtu.acm-validations.aws."
            ],
            "set_identifier": "",
            "ttl": 60,
            "type": "CNAME",
            "weighted_routing_policy": [],
            "zone_id": "Z2N8RQ0B2P27GZ"
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "aws_acm_certificate.wc3_quotes",
            "data.aws_route53_zone.blizzard_quotes"
          ]
        },
        {
          "index_key": "wc3.blizzardquotes.com",
          "schema_version": 2,
          "attributes": {
            "alias": [],
            "allow_overwrite": true,
            "failover_routing_policy": [],
            "fqdn": "_86ea9f43c57835f0d0a4994964e02673.wc3.blizzardquotes.com",
            "geolocation_routing_policy": [],
            "health_check_id": "",
            "id": "Z2N8RQ0B2P27GZ__86ea9f43c57835f0d0a4994964e02673.wc3.blizzardquotes.com._CNAME",
            "latency_routing_policy": [],
            "multivalue_answer_routing_policy": null,
            "name": "_86ea9f43c57835f0d0a4994964e02673.wc3.blizzardquotes.com",
            "records": [
              "_25b007db16b6a6298ade6ba818ed3106.olprtlswtu.acm-validations.aws."
            ],
            "set_identifier": "",
            "ttl": 60,
            "type": "CNAME",
            "weighted_routing_policy": [],
            "zone_id": "Z2N8RQ0B2P27GZ"
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "aws_acm_certificate.wc3_quotes",
            "data.aws_route53_zone.blizzard_quotes"
          ]
        }
      ]
    },
    {
      "module": "module.wc3_quotes_ui",
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "web",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "2450770859",
            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"SecureTransport\",\n      \"Effect\": \"Deny\",\n      \"Action\": \"*\",\n      \"Resource\": \"arn:aws:s3:::blizzard-quotes-wc3-ui/*\",\n      \"Principal\": {\n        \"AWS\": \"*\"\n      },\n      \"Condition\": {\n        \"Bool\": {\n          \"aws:SecureTransport\": [\n            \"false\"\n          ]\n        }\n      }\n    },\n    {\n      \"Sid\": \"OriginAccessIdentityGet\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"s3:GetObject\",\n      \"Resource\": \"arn:aws:s3:::blizzard-quotes-wc3-ui/*\",\n      \"Principal\": {\n        \"AWS\": \"arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity E3QNWA7LYOH8MP\"\n      }\n    },\n    {\n      \"Sid\": \"OriginAccessIdentityList\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"s3:ListBucket\",\n      \"Resource\": \"arn:aws:s3:::blizzard-quotes-wc3-ui\",\n      \"Principal\": {\n        \"AWS\": \"arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity E3QNWA7LYOH8MP\"\n      }\n    }\n  ]\n}",
            "override_json": null,
            "policy_id": null,
            "source_json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"SecureTransport\",\n      \"Effect\": \"Deny\",\n      \"Action\": \"*\",\n      \"Resource\": \"arn:aws:s3:::blizzard-quotes-wc3-ui/*\",\n      \"Principal\": {\n        \"AWS\": \"*\"\n      },\n      \"Condition\": {\n        \"Bool\": {\n          \"aws:SecureTransport\": \"false\"\n        }\n      }\n    }\n  ]\n}",
            "statement": [
              {
                "actions": [
                  "s3:GetObject"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [
                  {
                    "identifiers": [
                      "arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity E3QNWA7LYOH8MP"
                    ],
                    "type": "AWS"
                  }
                ],
                "resources": [
                  "arn:aws:s3:::blizzard-quotes-wc3-ui/*"
                ],
                "sid": "OriginAccessIdentityGet"
              },
              {
                "actions": [
                  "s3:ListBucket"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [
                  {
                    "identifiers": [
                      "arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity E3QNWA7LYOH8MP"
                    ],
                    "type": "AWS"
                  }
                ],
                "resources": [
                  "arn:aws:s3:::blizzard-quotes-wc3-ui"
                ],
                "sid": "OriginAccessIdentityList"
              }
            ],
            "version": "2012-10-17"
          }
        }
      ]
    },
    {
      "module": "module.wc3_quotes_ui",
      "mode": "data",
      "type": "aws_route53_zone",
      "name": "quotes",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "caller_reference": "RISWorkflow-RD:abe34b1e-be1f-4ff5-8dbf-6912e57eff9a",
            "comment": "HostedZone created by Route53 Registrar",
            "id": "Z2N8RQ0B2P27GZ",
            "linked_service_description": null,
            "linked_service_principal": null,
            "name": "blizzardquotes.com",
            "name_servers": [
              "ns-1390.awsdns-45.org",
              "ns-693.awsdns-22.net",
              "ns-467.awsdns-58.com",
              "ns-1997.awsdns-57.co.uk"
            ],
            "private_zone": false,
            "resource_record_set_count": 39,
            "tags": {},
            "vpc_id": null,
            "zone_id": "Z2N8RQ0B2P27GZ"
          }
        }
      ]
    },
    {
      "module": "module.wc3_quotes_ui",
      "mode": "managed",
      "type": "aws_cloudfront_distribution",
      "name": "web",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "aliases": [
              "wc3.blizzardquotes.com"
            ],
            "arn": "arn:aws:cloudfront::597331215585:distribution/ERA6KO31RIQW3",
            "caller_reference": "terraform-20201203195710651200000004",
            "comment": "CloudFront distribution for hosting wc3.blizzardquotes.com",
            "custom_error_response": [
              {
                "error_caching_min_ttl": 5,
                "error_code": 404,
                "response_code": 200,
                "response_page_path": "/index.html"
              }
            ],
            "default_cache_behavior": [
              {
                "allowed_methods": [
                  "GET",
                  "HEAD",
                  "OPTIONS"
                ],
                "cached_methods": [
                  "GET",
                  "HEAD"
                ],
                "compress": false,
                "default_ttl": 3600,
                "field_level_encryption_id": "",
                "forwarded_values": [
                  {
                    "cookies": [
                      {
                        "forward": "none",
                        "whitelisted_names": []
                      }
                    ],
                    "headers": [],
                    "query_string": false,
                    "query_string_cache_keys": []
                  }
                ],
                "lambda_function_association": [],
                "max_ttl": 86400,
                "min_ttl": 0,
                "smooth_streaming": false,
                "target_origin_id": "blizzard-quotes-wc3-ui",
                "trusted_signers": [],
                "viewer_protocol_policy": "redirect-to-https"
              }
            ],
            "default_root_object": "index.html",
            "domain_name": "d2smke3932gl4d.cloudfront.net",
            "enabled": true,
            "etag": "EI2H7AMJEYQ2C",
            "hosted_zone_id": "Z2FDTNDATAQYW2",
            "http_version": "http2",
            "id": "ERA6KO31RIQW3",
            "in_progress_validation_batches": 0,
            "is_ipv6_enabled": true,
            "last_modified_time": "2020-12-03 19:57:19.49 +0000 UTC",
            "logging_config": [
              {
                "bucket": "blizzard-quotes-logs.s3.amazonaws.com",
                "include_cookies": false,
                "prefix": "cloud-front-wc3-blizzardquotes-com-web/"
              }
            ],
            "ordered_cache_behavior": [],
            "origin": [
              {
                "custom_header": [],
                "custom_origin_config": [],
                "domain_name": "blizzard-quotes-wc3-ui.s3.amazonaws.com",
                "origin_id": "blizzard-quotes-wc3-ui",
                "origin_path": "",
                "s3_origin_config": [
                  {
                    "origin_access_identity": "origin-access-identity/cloudfront/E3QNWA7LYOH8MP"
                  }
                ]
              }
            ],
            "origin_group": [],
            "price_class": "PriceClass_100",
            "restrictions": [
              {
                "geo_restriction": [
                  {
                    "locations": [],
                    "restriction_type": "none"
                  }
                ]
              }
            ],
            "retain_on_delete": false,
            "status": "Deployed",
            "tags": {
              "Name": "wc3.blizzardquotes.com",
              "Purpose": "CloudFront distribution for hosting wc3.blizzardquotes.com"
            },
            "trusted_signers": [
              {
                "enabled": false,
                "items": []
              }
            ],
            "viewer_certificate": [
              {
                "acm_certificate_arn": "arn:aws:acm:us-east-1:597331215585:certificate/97e01166-ce9a-4b1a-9e32-04c5a4fbab9a",
                "cloudfront_default_certificate": false,
                "iam_certificate_id": "",
                "minimum_protocol_version": "TLSv1",
                "ssl_support_method": "sni-only"
              }
            ],
            "wait_for_deployment": true,
            "web_acl_id": ""
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "aws_acm_certificate.wc3_quotes",
            "module.wc3_quotes_ui.aws_cloudfront_origin_access_identity.web",
            "module.wc3_quotes_ui.aws_s3_bucket.web"
          ]
        }
      ]
    },
    {
      "module": "module.wc3_quotes_ui",
      "mode": "managed",
      "type": "aws_cloudfront_origin_access_identity",
      "name": "web",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "caller_reference": "terraform-20191229055224693700000001",
            "cloudfront_access_identity_path": "origin-access-identity/cloudfront/E3QNWA7LYOH8MP",
            "comment": "Origin Access Identity for wc3.blizzardquotes.com",
            "etag": "E19L1RDMBWUGBH",
            "iam_arn": "arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity E3QNWA7LYOH8MP",
            "id": "E3QNWA7LYOH8MP",
            "s3_canonical_user_id": "bdfa4ddb18202b4b68449643c9e3aa0b948881f38e2c595e38509707baac4cc5037030cb9665c7e1c4246dc0dd40b851"
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.wc3_quotes_ui",
      "mode": "managed",
      "type": "aws_route53_record",
      "name": "quotes_zone_apex_cdn_alias",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "alias": [
              {
                "evaluate_target_health": false,
                "name": "d2smke3932gl4d.cloudfront.net",
                "zone_id": "Z2FDTNDATAQYW2"
              }
            ],
            "allow_overwrite": null,
            "failover_routing_policy": [],
            "fqdn": "wc3.blizzardquotes.com",
            "geolocation_routing_policy": [],
            "health_check_id": "",
            "id": "Z2N8RQ0B2P27GZ_wc3.blizzardquotes.com_A",
            "latency_routing_policy": [],
            "multivalue_answer_routing_policy": null,
            "name": "wc3.blizzardquotes.com",
            "records": [],
            "set_identifier": "",
            "ttl": 0,
            "type": "A",
            "weighted_routing_policy": [],
            "zone_id": "Z2N8RQ0B2P27GZ"
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "aws_acm_certificate.wc3_quotes",
            "module.wc3_quotes_ui.aws_cloudfront_distribution.web",
            "module.wc3_quotes_ui.aws_cloudfront_origin_access_identity.web",
            "module.wc3_quotes_ui.aws_s3_bucket.web",
            "module.wc3_quotes_ui.data.aws_route53_zone.quotes"
          ]
        }
      ]
    },
    {
      "module": "module.wc3_quotes_ui",
      "mode": "managed",
      "type": "aws_s3_bucket",
      "name": "web",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "acceleration_status": "",
            "acl": "private",
            "arn": "arn:aws:s3:::blizzard-quotes-wc3-ui",
            "bucket": "blizzard-quotes-wc3-ui",
            "bucket_domain_name": "blizzard-quotes-wc3-ui.s3.amazonaws.com",
            "bucket_prefix": null,
            "bucket_regional_domain_name": "blizzard-quotes-wc3-ui.s3.amazonaws.com",
            "cors_rule": [],
            "force_destroy": true,
            "grant": [],
            "hosted_zone_id": "Z3AQBSTGFYJSTF",
            "id": "blizzard-quotes-wc3-ui",
            "lifecycle_rule": [],
            "logging": [
              {
                "target_bucket": "blizzard-quotes-logs",
                "target_prefix": "s3-access-logs-blizzard-quotes-wc3-ui/"
              }
            ],
            "object_lock_configuration": [],
            "policy": null,
            "region": "us-east-1",
            "replication_configuration": [],
            "request_payer": "BucketOwner",
            "server_side_encryption_configuration": [
              {
                "rule": [
                  {
                    "apply_server_side_encryption_by_default": [
                      {
                        "kms_master_key_id": "",
                        "sse_algorithm": "AES256"
                      }
                    ]
                  }
                ]
              }
            ],
            "tags": {
              "Name": "blizzard-quotes-wc3-ui",
              "Purpose": "Make wc3.blizzardquotes.com available via CloudFront."
            },
            "versioning": [
              {
                "enabled": false,
                "mfa_delete": false
              }
            ],
            "website": [
              {
                "error_document": "index.html",
                "index_document": "index.html",
                "redirect_all_requests_to": "",
                "routing_rules": ""
              }
            ],
            "website_domain": "s3-website-us-east-1.amazonaws.com",
            "website_endpoint": "blizzard-quotes-wc3-ui.s3-website-us-east-1.amazonaws.com"
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.wc3_quotes_ui",
      "mode": "managed",
      "type": "aws_s3_bucket_policy",
      "name": "associate_policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "bucket": "blizzard-quotes-wc3-ui",
            "id": "blizzard-quotes-wc3-ui",
            "policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"SecureTransport\",\"Effect\":\"Deny\",\"Principal\":{\"AWS\":\"*\"},\"Action\":\"*\",\"Resource\":\"arn:aws:s3:::blizzard-quotes-wc3-ui/*\",\"Condition\":{\"Bool\":{\"aws:SecureTransport\":\"false\"}}},{\"Sid\":\"OriginAccessIdentityGet\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity E3QNWA7LYOH8MP\"},\"Action\":\"s3:GetObject\",\"Resource\":\"arn:aws:s3:::blizzard-quotes-wc3-ui/*\"},{\"Sid\":\"OriginAccessIdentityList\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity E3QNWA7LYOH8MP\"},\"Action\":\"s3:ListBucket\",\"Resource\":\"arn:aws:s3:::blizzard-quotes-wc3-ui\"}]}"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.wc3_quotes_ui.aws_cloudfront_origin_access_identity.web",
            "module.wc3_quotes_ui.aws_s3_bucket.web"
          ]
        }
      ]
    },
    {
      "module": "module.wc3_quotes_ui.module.secure_transport_policy",
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "s3_secure_transport_policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "362689030",
            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"SecureTransport\",\n      \"Effect\": \"Deny\",\n      \"Action\": \"*\",\n      \"Resource\": \"arn:aws:s3:::blizzard-quotes-wc3-ui/*\",\n      \"Principal\": {\n        \"AWS\": \"*\"\n      },\n      \"Condition\": {\n        \"Bool\": {\n          \"aws:SecureTransport\": \"false\"\n        }\n      }\n    }\n  ]\n}",
            "override_json": null,
            "policy_id": null,
            "source_json": null,
            "statement": [
              {
                "actions": [
                  "*"
                ],
                "condition": [
                  {
                    "test": "Bool",
                    "values": [
                      "false"
                    ],
                    "variable": "aws:SecureTransport"
                  }
                ],
                "effect": "Deny",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [
                  {
                    "identifiers": [
                      "*"
                    ],
                    "type": "AWS"
                  }
                ],
                "resources": [
                  "arn:aws:s3:::blizzard-quotes-wc3-ui/*"
                ],
                "sid": "SecureTransport"
              }
            ],
            "version": "2012-10-17"
          }
        }
      ]
    },
    {
      "module": "module.wc3_quotes_ui.module.secure_transport_policy_logs",
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "s3_secure_transport_policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "1333758273",
            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"SecureTransport\",\n      \"Effect\": \"Deny\",\n      \"Action\": \"*\",\n      \"Resource\": \"arn:aws:s3:::blizzard-quotes-logs/*\",\n      \"Principal\": {\n        \"AWS\": \"*\"\n      },\n      \"Condition\": {\n        \"Bool\": {\n          \"aws:SecureTransport\": \"false\"\n        }\n      }\n    }\n  ]\n}",
            "override_json": null,
            "policy_id": null,
            "source_json": null,
            "statement": [
              {
                "actions": [
                  "*"
                ],
                "condition": [
                  {
                    "test": "Bool",
                    "values": [
                      "false"
                    ],
                    "variable": "aws:SecureTransport"
                  }
                ],
                "effect": "Deny",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [
                  {
                    "identifiers": [
                      "*"
                    ],
                    "type": "AWS"
                  }
                ],
                "resources": [
                  "arn:aws:s3:::blizzard-quotes-logs/*"
                ],
                "sid": "SecureTransport"
              }
            ],
            "version": "2012-10-17"
          }
        }
      ]
    },
    {
      "module": "module.wc3_swagger",
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "web",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "667593674",
            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"SecureTransport\",\n      \"Effect\": \"Deny\",\n      \"Action\": \"*\",\n      \"Resource\": \"arn:aws:s3:::blizzard-quotes-wc3-swagger/*\",\n      \"Principal\": {\n        \"AWS\": \"*\"\n      },\n      \"Condition\": {\n        \"Bool\": {\n          \"aws:SecureTransport\": [\n            \"false\"\n          ]\n        }\n      }\n    },\n    {\n      \"Sid\": \"OriginAccessIdentityGet\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"s3:GetObject\",\n      \"Resource\": \"arn:aws:s3:::blizzard-quotes-wc3-swagger/*\",\n      \"Principal\": {\n        \"AWS\": \"arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity E37KIYD8VP9QJ8\"\n      }\n    },\n    {\n      \"Sid\": \"OriginAccessIdentityList\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"s3:ListBucket\",\n      \"Resource\": \"arn:aws:s3:::blizzard-quotes-wc3-swagger\",\n      \"Principal\": {\n        \"AWS\": \"arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity E37KIYD8VP9QJ8\"\n      }\n    }\n  ]\n}",
            "override_json": null,
            "policy_id": null,
            "source_json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"SecureTransport\",\n      \"Effect\": \"Deny\",\n      \"Action\": \"*\",\n      \"Resource\": \"arn:aws:s3:::blizzard-quotes-wc3-swagger/*\",\n      \"Principal\": {\n        \"AWS\": \"*\"\n      },\n      \"Condition\": {\n        \"Bool\": {\n          \"aws:SecureTransport\": \"false\"\n        }\n      }\n    }\n  ]\n}",
            "statement": [
              {
                "actions": [
                  "s3:GetObject"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [
                  {
                    "identifiers": [
                      "arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity E37KIYD8VP9QJ8"
                    ],
                    "type": "AWS"
                  }
                ],
                "resources": [
                  "arn:aws:s3:::blizzard-quotes-wc3-swagger/*"
                ],
                "sid": "OriginAccessIdentityGet"
              },
              {
                "actions": [
                  "s3:ListBucket"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [
                  {
                    "identifiers": [
                      "arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity E37KIYD8VP9QJ8"
                    ],
                    "type": "AWS"
                  }
                ],
                "resources": [
                  "arn:aws:s3:::blizzard-quotes-wc3-swagger"
                ],
                "sid": "OriginAccessIdentityList"
              }
            ],
            "version": "2012-10-17"
          }
        }
      ]
    },
    {
      "module": "module.wc3_swagger",
      "mode": "data",
      "type": "aws_route53_zone",
      "name": "quotes",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "caller_reference": "RISWorkflow-RD:abe34b1e-be1f-4ff5-8dbf-6912e57eff9a",
            "comment": "HostedZone created by Route53 Registrar",
            "id": "Z2N8RQ0B2P27GZ",
            "linked_service_description": null,
            "linked_service_principal": null,
            "name": "blizzardquotes.com",
            "name_servers": [
              "ns-1390.awsdns-45.org",
              "ns-693.awsdns-22.net",
              "ns-467.awsdns-58.com",
              "ns-1997.awsdns-57.co.uk"
            ],
            "private_zone": false,
            "resource_record_set_count": 39,
            "tags": {},
            "vpc_id": null,
            "zone_id": "Z2N8RQ0B2P27GZ"
          }
        }
      ]
    },
    {
      "module": "module.wc3_swagger",
      "mode": "managed",
      "type": "aws_cloudfront_distribution",
      "name": "web",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "aliases": [
              "swagger.wc3.blizzardquotes.com"
            ],
            "arn": "arn:aws:cloudfront::597331215585:distribution/E1WP6Y5LECYQ0E",
            "caller_reference": "terraform-20201203195710650900000003",
            "comment": "CloudFront distribution for hosting swagger.wc3.blizzardquotes.com",
            "custom_error_response": [
              {
                "error_caching_min_ttl": 5,
                "error_code": 404,
                "response_code": 200,
                "response_page_path": "/index.html"
              }
            ],
            "default_cache_behavior": [
              {
                "allowed_methods": [
                  "GET",
                  "HEAD",
                  "OPTIONS"
                ],
                "cached_methods": [
                  "GET",
                  "HEAD"
                ],
                "compress": false,
                "default_ttl": 3600,
                "field_level_encryption_id": "",
                "forwarded_values": [
                  {
                    "cookies": [
                      {
                        "forward": "none",
                        "whitelisted_names": []
                      }
                    ],
                    "headers": [],
                    "query_string": false,
                    "query_string_cache_keys": []
                  }
                ],
                "lambda_function_association": [],
                "max_ttl": 86400,
                "min_ttl": 0,
                "smooth_streaming": false,
                "target_origin_id": "blizzard-quotes-wc3-swagger",
                "trusted_signers": [],
                "viewer_protocol_policy": "redirect-to-https"
              }
            ],
            "default_root_object": "index.html",
            "domain_name": "dfc5bfzjd644k.cloudfront.net",
            "enabled": true,
            "etag": "E1UPFAWGWZJB3O",
            "hosted_zone_id": "Z2FDTNDATAQYW2",
            "http_version": "http2",
            "id": "E1WP6Y5LECYQ0E",
            "in_progress_validation_batches": 0,
            "is_ipv6_enabled": true,
            "last_modified_time": "2020-12-03 19:57:07.978 +0000 UTC",
            "logging_config": [
              {
                "bucket": "blizzard-quotes-logs.s3.amazonaws.com",
                "include_cookies": false,
                "prefix": "cloud-front-swagger-wc3-blizzardquotes-com-web/"
              }
            ],
            "ordered_cache_behavior": [],
            "origin": [
              {
                "custom_header": [],
                "custom_origin_config": [],
                "domain_name": "blizzard-quotes-wc3-swagger.s3.amazonaws.com",
                "origin_id": "blizzard-quotes-wc3-swagger",
                "origin_path": "",
                "s3_origin_config": [
                  {
                    "origin_access_identity": "origin-access-identity/cloudfront/E37KIYD8VP9QJ8"
                  }
                ]
              }
            ],
            "origin_group": [],
            "price_class": "PriceClass_100",
            "restrictions": [
              {
                "geo_restriction": [
                  {
                    "locations": [],
                    "restriction_type": "none"
                  }
                ]
              }
            ],
            "retain_on_delete": false,
            "status": "Deployed",
            "tags": {
              "Name": "swagger.wc3.blizzardquotes.com",
              "Purpose": "CloudFront distribution for hosting swagger.wc3.blizzardquotes.com"
            },
            "trusted_signers": [
              {
                "enabled": false,
                "items": []
              }
            ],
            "viewer_certificate": [
              {
                "acm_certificate_arn": "arn:aws:acm:us-east-1:597331215585:certificate/97e01166-ce9a-4b1a-9e32-04c5a4fbab9a",
                "cloudfront_default_certificate": false,
                "iam_certificate_id": "",
                "minimum_protocol_version": "TLSv1",
                "ssl_support_method": "sni-only"
              }
            ],
            "wait_for_deployment": true,
            "web_acl_id": ""
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "aws_acm_certificate.wc3_quotes",
            "module.wc3_swagger.aws_cloudfront_origin_access_identity.web",
            "module.wc3_swagger.aws_s3_bucket.web"
          ]
        }
      ]
    },
    {
      "module": "module.wc3_swagger",
      "mode": "managed",
      "type": "aws_cloudfront_origin_access_identity",
      "name": "web",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "caller_reference": "terraform-20191226231510888900000003",
            "cloudfront_access_identity_path": "origin-access-identity/cloudfront/E37KIYD8VP9QJ8",
            "comment": "Origin Access Identity for swagger.wc3.blizzardquotes.com",
            "etag": "E1N8BRWCWGLVSI",
            "iam_arn": "arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity E37KIYD8VP9QJ8",
            "id": "E37KIYD8VP9QJ8",
            "s3_canonical_user_id": "0f1f9d92ad890fdb5e4b75c152495bc9ee24c7c670ff30fd1e2bd3af49d6a0c46e633dac87c647d6c332254bdca280b8"
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.wc3_swagger",
      "mode": "managed",
      "type": "aws_route53_record",
      "name": "quotes_zone_apex_cdn_alias",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "alias": [
              {
                "evaluate_target_health": false,
                "name": "dfc5bfzjd644k.cloudfront.net",
                "zone_id": "Z2FDTNDATAQYW2"
              }
            ],
            "allow_overwrite": null,
            "failover_routing_policy": [],
            "fqdn": "swagger.wc3.blizzardquotes.com",
            "geolocation_routing_policy": [],
            "health_check_id": "",
            "id": "Z2N8RQ0B2P27GZ_swagger.wc3.blizzardquotes.com_A",
            "latency_routing_policy": [],
            "multivalue_answer_routing_policy": null,
            "name": "swagger.wc3.blizzardquotes.com",
            "records": [],
            "set_identifier": "",
            "ttl": 0,
            "type": "A",
            "weighted_routing_policy": [],
            "zone_id": "Z2N8RQ0B2P27GZ"
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "aws_acm_certificate.wc3_quotes",
            "module.wc3_swagger.aws_cloudfront_distribution.web",
            "module.wc3_swagger.aws_cloudfront_origin_access_identity.web",
            "module.wc3_swagger.aws_s3_bucket.web",
            "module.wc3_swagger.data.aws_route53_zone.quotes"
          ]
        }
      ]
    },
    {
      "module": "module.wc3_swagger",
      "mode": "managed",
      "type": "aws_s3_bucket",
      "name": "web",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "acceleration_status": "",
            "acl": "private",
            "arn": "arn:aws:s3:::blizzard-quotes-wc3-swagger",
            "bucket": "blizzard-quotes-wc3-swagger",
            "bucket_domain_name": "blizzard-quotes-wc3-swagger.s3.amazonaws.com",
            "bucket_prefix": null,
            "bucket_regional_domain_name": "blizzard-quotes-wc3-swagger.s3.amazonaws.com",
            "cors_rule": [],
            "force_destroy": true,
            "grant": [],
            "hosted_zone_id": "Z3AQBSTGFYJSTF",
            "id": "blizzard-quotes-wc3-swagger",
            "lifecycle_rule": [],
            "logging": [
              {
                "target_bucket": "blizzard-quotes-logs",
                "target_prefix": "s3-access-logs-blizzard-quotes-wc3-swagger/"
              }
            ],
            "object_lock_configuration": [],
            "policy": null,
            "region": "us-east-1",
            "replication_configuration": [],
            "request_payer": "BucketOwner",
            "server_side_encryption_configuration": [
              {
                "rule": [
                  {
                    "apply_server_side_encryption_by_default": [
                      {
                        "kms_master_key_id": "",
                        "sse_algorithm": "AES256"
                      }
                    ]
                  }
                ]
              }
            ],
            "tags": {
              "Name": "blizzard-quotes-wc3-swagger",
              "Purpose": "Make swagger.wc3.blizzardquotes.com available via CloudFront."
            },
            "versioning": [
              {
                "enabled": false,
                "mfa_delete": false
              }
            ],
            "website": [
              {
                "error_document": "index.html",
                "index_document": "index.html",
                "redirect_all_requests_to": "",
                "routing_rules": ""
              }
            ],
            "website_domain": "s3-website-us-east-1.amazonaws.com",
            "website_endpoint": "blizzard-quotes-wc3-swagger.s3-website-us-east-1.amazonaws.com"
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.wc3_swagger",
      "mode": "managed",
      "type": "aws_s3_bucket_policy",
      "name": "associate_policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "bucket": "blizzard-quotes-wc3-swagger",
            "id": "blizzard-quotes-wc3-swagger",
            "policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"SecureTransport\",\"Effect\":\"Deny\",\"Principal\":{\"AWS\":\"*\"},\"Action\":\"*\",\"Resource\":\"arn:aws:s3:::blizzard-quotes-wc3-swagger/*\",\"Condition\":{\"Bool\":{\"aws:SecureTransport\":\"false\"}}},{\"Sid\":\"OriginAccessIdentityGet\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity E37KIYD8VP9QJ8\"},\"Action\":\"s3:GetObject\",\"Resource\":\"arn:aws:s3:::blizzard-quotes-wc3-swagger/*\"},{\"Sid\":\"OriginAccessIdentityList\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity E37KIYD8VP9QJ8\"},\"Action\":\"s3:ListBucket\",\"Resource\":\"arn:aws:s3:::blizzard-quotes-wc3-swagger\"}]}"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.wc3_swagger.aws_cloudfront_origin_access_identity.web",
            "module.wc3_swagger.aws_s3_bucket.web"
          ]
        }
      ]
    },
    {
      "module": "module.wc3_swagger.module.secure_transport_policy",
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "s3_secure_transport_policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "292092488",
            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"SecureTransport\",\n      \"Effect\": \"Deny\",\n      \"Action\": \"*\",\n      \"Resource\": \"arn:aws:s3:::blizzard-quotes-wc3-swagger/*\",\n      \"Principal\": {\n        \"AWS\": \"*\"\n      },\n      \"Condition\": {\n        \"Bool\": {\n          \"aws:SecureTransport\": \"false\"\n        }\n      }\n    }\n  ]\n}",
            "override_json": null,
            "policy_id": null,
            "source_json": null,
            "statement": [
              {
                "actions": [
                  "*"
                ],
                "condition": [
                  {
                    "test": "Bool",
                    "values": [
                      "false"
                    ],
                    "variable": "aws:SecureTransport"
                  }
                ],
                "effect": "Deny",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [
                  {
                    "identifiers": [
                      "*"
                    ],
                    "type": "AWS"
                  }
                ],
                "resources": [
                  "arn:aws:s3:::blizzard-quotes-wc3-swagger/*"
                ],
                "sid": "SecureTransport"
              }
            ],
            "version": "2012-10-17"
          }
        }
      ]
    },
    {
      "module": "module.wc3_swagger.module.secure_transport_policy_logs",
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "s3_secure_transport_policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "1333758273",
            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"SecureTransport\",\n      \"Effect\": \"Deny\",\n      \"Action\": \"*\",\n      \"Resource\": \"arn:aws:s3:::blizzard-quotes-logs/*\",\n      \"Principal\": {\n        \"AWS\": \"*\"\n      },\n      \"Condition\": {\n        \"Bool\": {\n          \"aws:SecureTransport\": \"false\"\n        }\n      }\n    }\n  ]\n}",
            "override_json": null,
            "policy_id": null,
            "source_json": null,
            "statement": [
              {
                "actions": [
                  "*"
                ],
                "condition": [
                  {
                    "test": "Bool",
                    "values": [
                      "false"
                    ],
                    "variable": "aws:SecureTransport"
                  }
                ],
                "effect": "Deny",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [
                  {
                    "identifiers": [
                      "*"
                    ],
                    "type": "AWS"
                  }
                ],
                "resources": [
                  "arn:aws:s3:::blizzard-quotes-logs/*"
                ],
                "sid": "SecureTransport"
              }
            ],
            "version": "2012-10-17"
          }
        }
      ]
    },
    {
      "module": "module.wc3_swagger_ui",
      "mode": "data",
      "type": "external",
      "name": "swagger_ui_latest_version",
      "provider": "provider[\"registry.terraform.io/hashicorp/external\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "-",
            "program": [
              "bash",
              ".terraform/modules/wc3_swagger_ui/scripts/latest-version.sh"
            ],
            "query": null,
            "result": {
              "version": "v3.38.0"
            },
            "working_dir": null
          }
        }
      ]
    },
    {
      "module": "module.wc3_swagger_ui",
      "mode": "data",
      "type": "template_file",
      "name": "destroy_swagger_ui",
      "provider": "provider[\"registry.terraform.io/hashicorp/template\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "filename": null,
            "id": "caae00909416b956d7f56bb688102d6ec13041bab8f00157530bb19f061a2126",
            "rendered": "BUCKET_PATH=blizzard-quotes-wc3-swagger\n\nPROFILE=blizzard-quotes\n\naws s3 rm --profile $PROFILE s3://$BUCKET_PATH --recursive --exclude \"*/*\"\n",
            "template": "BUCKET_PATH=${bucket_path}\n\nPROFILE=${profile}\n\naws s3 rm --profile $PROFILE s3://$BUCKET_PATH --recursive --exclude \"*/*\"\n",
            "vars": {
              "bucket_path": "blizzard-quotes-wc3-swagger",
              "profile": "blizzard-quotes"
            }
          }
        }
      ]
    },
    {
      "module": "module.wc3_swagger_ui",
      "mode": "data",
      "type": "template_file",
      "name": "install_swagger_ui",
      "provider": "provider[\"registry.terraform.io/hashicorp/template\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "filename": null,
            "id": "43e18df20e0b07d8feff5c0135fae6f3bae341eeb9520c61b89731ca33778647",
            "rendered": "DIR_PATH=.terraform/modules/wc3_swagger_ui\n\nACL=private\nBUCKET_PATH=blizzard-quotes-wc3-swagger\nOPENAPI_SPEC_PATHS=(/mnt/d/Workspace/tf-blizzard-quotes/specifications/wc3/v1.yml)\nOPENAPI_SPEC_URLS=(https://swagger.wc3.blizzardquotes.com/v1.yml)\nSWAGGER_UI_VERSION=v3.38.0\n\nPROFILE=blizzard-quotes\n\nWORK_DIR=tmp\nSWAGGER_TARGET=$WORK_DIR/$(basename $BUCKET_PATH)/$(dirname $BUCKET_PATH)/swagger-ui\n\nmkdir -p $DIR_PATH/$SWAGGER_TARGET\n\ncurl --silent -L https://github.com/swagger-api/swagger-ui/archive/$SWAGGER_UI_VERSION.tar.gz -o $DIR_PATH/$SWAGGER_TARGET.tar.gz\ntar --strip-components 1 -C $DIR_PATH/$SWAGGER_TARGET -xf $DIR_PATH/$SWAGGER_TARGET.tar.gz\n\n# Grab the count of the largest array\nif [ ${#OPENAPI_SPEC_PATHS[@]} -gt ${#OPENAPI_SPEC_URLS[@]} ]; then\n  max=${#OPENAPI_SPEC_PATHS[@]}\nelse\n  max=${#OPENAPI_SPEC_URLS[@]}\nfi\n\nbucket_key_without_file=\"/\"\nif [[ $BUCKET_PATH == *\"/\"* ]]; then\n  bucket_key_without_file=${BUCKET_PATH#*/}/\nfi\n\n# Use swagger ui urls if more than one path or url with urls taking precedence\nif [ $max -gt 1 ]; then\n  urls_string=\"[\"\n  for ((i = 0; i \u003c $max; i++ )); do\n\n    # Use url if specified\n    if [[ ! -z ${OPENAPI_SPEC_URLS[$i]} \u0026\u0026 ${OPENAPI_SPEC_URLS[$i]} != \"\" ]]; then\n      urls_string+=\"{url: \\\"${OPENAPI_SPEC_URLS[$i]}\\\",  name: \\\"$(basename ${OPENAPI_SPEC_URLS[$i]})\\\"},\"\n    else\n      urls_string+=\"{url: \\\"/${bucket_key_without_file}$(basename ${OPENAPI_SPEC_PATHS[$i]})\\\",  name: \\\"$(basename ${OPENAPI_SPEC_PATHS[$i]})\\\"},\"\n    fi\n  done\n\n  urls_string=\"${urls_string%?}]\"\n  sed -i \"s@url:.*@urls: $urls_string,@\" $DIR_PATH/$SWAGGER_TARGET/dist/index.html\n\n# Use swagger ui\nelif [ ${#OPENAPI_SPEC_URLS[@]} -eq 1 ]; then\n  sed -i \"s@url:.*@url: \\\"${OPENAPI_SPEC_URLS[0]}\\\",@\" $DIR_PATH/$SWAGGER_TARGET/dist/index.html\n# Use swagger ui\nelif [ ${#OPENAPI_SPEC_PATHS[@]} -eq 1 ]; then\n  sed -i \"s@url:.*@url: \\\"/${bucket_key_without_file}$(basename ${OPENAPI_SPEC_PATHS[0]})\\\",@\" $DIR_PATH/$SWAGGER_TARGET/dist/index.html\nfi\n\naws s3 sync --profile $PROFILE --acl $ACL $DIR_PATH/$SWAGGER_TARGET/dist s3://$BUCKET_PATH\n\nfor path in ${OPENAPI_SPEC_PATHS[@]}; do\n  aws s3 cp --profile $PROFILE --acl $ACL $path s3://$BUCKET_PATH/$(basename $path)  \ndone\n\nrm -rf $DIR_PATH/$SWAGGER_TARGET.tar.gz\nrm -rf $DIR_PATH/$SWAGGER_TARGET\n",
            "template": "DIR_PATH=${path}\n\nACL=${acl}\nBUCKET_PATH=${bucket_path}\nOPENAPI_SPEC_PATHS=${openapi_spec_paths}\nOPENAPI_SPEC_URLS=${openapi_spec_urls}\nSWAGGER_UI_VERSION=${swagger_ui_version}\n\nPROFILE=${profile}\n\nWORK_DIR=tmp\nSWAGGER_TARGET=$WORK_DIR/$(basename $BUCKET_PATH)/$(dirname $BUCKET_PATH)/swagger-ui\n\nmkdir -p $DIR_PATH/$SWAGGER_TARGET\n\ncurl --silent -L https://github.com/swagger-api/swagger-ui/archive/$SWAGGER_UI_VERSION.tar.gz -o $DIR_PATH/$SWAGGER_TARGET.tar.gz\ntar --strip-components 1 -C $DIR_PATH/$SWAGGER_TARGET -xf $DIR_PATH/$SWAGGER_TARGET.tar.gz\n\n# Grab the count of the largest array\nif [ $${#OPENAPI_SPEC_PATHS[@]} -gt $${#OPENAPI_SPEC_URLS[@]} ]; then\n  max=$${#OPENAPI_SPEC_PATHS[@]}\nelse\n  max=$${#OPENAPI_SPEC_URLS[@]}\nfi\n\nbucket_key_without_file=\"/\"\nif [[ $BUCKET_PATH == *\"/\"* ]]; then\n  bucket_key_without_file=$${BUCKET_PATH#*/}/\nfi\n\n# Use swagger ui urls if more than one path or url with urls taking precedence\nif [ $max -gt 1 ]; then\n  urls_string=\"[\"\n  for ((i = 0; i \u003c $max; i++ )); do\n\n    # Use url if specified\n    if [[ ! -z $${OPENAPI_SPEC_URLS[$i]} \u0026\u0026 $${OPENAPI_SPEC_URLS[$i]} != \"\" ]]; then\n      urls_string+=\"{url: \\\"$${OPENAPI_SPEC_URLS[$i]}\\\",  name: \\\"$(basename $${OPENAPI_SPEC_URLS[$i]})\\\"},\"\n    else\n      urls_string+=\"{url: \\\"/$${bucket_key_without_file}$(basename $${OPENAPI_SPEC_PATHS[$i]})\\\",  name: \\\"$(basename $${OPENAPI_SPEC_PATHS[$i]})\\\"},\"\n    fi\n  done\n\n  urls_string=\"$${urls_string%?}]\"\n  sed -i \"s@url:.*@urls: $urls_string,@\" $DIR_PATH/$SWAGGER_TARGET/dist/index.html\n\n# Use swagger ui\nelif [ $${#OPENAPI_SPEC_URLS[@]} -eq 1 ]; then\n  sed -i \"s@url:.*@url: \\\"$${OPENAPI_SPEC_URLS[0]}\\\",@\" $DIR_PATH/$SWAGGER_TARGET/dist/index.html\n# Use swagger ui\nelif [ $${#OPENAPI_SPEC_PATHS[@]} -eq 1 ]; then\n  sed -i \"s@url:.*@url: \\\"/$${bucket_key_without_file}$(basename $${OPENAPI_SPEC_PATHS[0]})\\\",@\" $DIR_PATH/$SWAGGER_TARGET/dist/index.html\nfi\n\naws s3 sync --profile $PROFILE --acl $ACL $DIR_PATH/$SWAGGER_TARGET/dist s3://$BUCKET_PATH\n\nfor path in $${OPENAPI_SPEC_PATHS[@]}; do\n  aws s3 cp --profile $PROFILE --acl $ACL $path s3://$BUCKET_PATH/$(basename $path)  \ndone\n\nrm -rf $DIR_PATH/$SWAGGER_TARGET.tar.gz\nrm -rf $DIR_PATH/$SWAGGER_TARGET\n",
            "vars": {
              "acl": "private",
              "bucket_path": "blizzard-quotes-wc3-swagger",
              "openapi_spec_paths": "(/mnt/d/Workspace/tf-blizzard-quotes/specifications/wc3/v1.yml)",
              "openapi_spec_urls": "(https://swagger.wc3.blizzardquotes.com/v1.yml)",
              "path": ".terraform/modules/wc3_swagger_ui",
              "profile": "blizzard-quotes",
              "swagger_ui_version": "v3.38.0"
            }
          }
        }
      ]
    },
    {
      "module": "module.wc3_swagger_ui",
      "mode": "managed",
      "type": "null_resource",
      "name": "swagger",
      "provider": "provider[\"registry.terraform.io/hashicorp/null\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "1960222696163801300",
            "triggers": {
              "openapi_spec_paths_sha": "34c6e806c0dfe425a53167d35b6c890b9fe0976a",
              "openapi_spec_urls": "https://swagger.wc3.blizzardquotes.com/v1.yml",
              "provisioner_destroy_command": "BUCKET_PATH=blizzard-quotes-wc3-swagger\n\nPROFILE=blizzard-quotes\n\naws s3 rm --profile $PROFILE s3://$BUCKET_PATH --recursive --exclude \"*/*\"\n",
              "provisioner_interpreter": "/usr/bin/env bash -c",
              "s3_acl": "private",
              "s3_bucket_path": "blizzard-quotes-wc3-swagger",
              "swagger_ui_version": "v3.38.0"
            }
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.wc3_swagger.aws_s3_bucket.web",
            "module.wc3_swagger_ui.data.external.swagger_ui_latest_version",
            "module.wc3_swagger_ui.data.template_file.destroy_swagger_ui",
            "module.wc3_swagger_ui.data.template_file.install_swagger_ui"
          ]
        }
      ]
    }
  ]
}
